{"config":{"lang":["en"],"separator":"[\\s\\-\\.]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"clickhouse-operator Jsonnet library","text":"<p>This library is generated with <code>k8s</code>.</p> <ul> <li>0.23</li> <li>0.22</li> <li>0.21</li> </ul>"},{"location":"0.21/","title":"clickhouse-operator","text":"<pre><code>local clickhouse-operator = import \"github.com/jsonnet-libs/clickhouse-operator-libsonnet/0.21/main.libsonnet\"\n</code></pre> <ul> <li>clickhouse</li> </ul>"},{"location":"0.21/clickhouse/","title":"clickhouse","text":"<ul> <li>v1</li> </ul>"},{"location":"0.21/clickhouse/v1/","title":"clickhouse.v1","text":"<ul> <li>clickHouseInstallation</li> <li>clickHouseInstallationTemplate</li> <li>clickHouseOperatorConfiguration</li> </ul>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/","title":"clickhouse.v1.clickHouseInstallation","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fields","title":"Fields","text":""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallation</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"custom domain suffix which will add to end of <code>Service</code> or <code>Pod</code> name, use it when you use custom cluster domain in your Kubernetes cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"This is a 'soft restart' button. When set to 'RollingUpdate' operator will restart ClickHouse pods in a graceful way. Remove it after the use in order to avoid unneeded restarts\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allow stop all ClickHouse clusters described in current chi.\\nStop mechanism works as follows:\\n - When <code>stop</code> is <code>1</code> then setup <code>Replicas: 0</code> in each related to current <code>chi</code> StatefulSet resource, all <code>Pods</code> and <code>Service</code> resources will desctroy, but PVCs still live\\n - When <code>stop</code> is <code>0</code> then <code>Pods</code> will created again and will attach retained PVCs and <code>Service</code> also will created again\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for named update operation and watch status of this update execution in .status.taskIDs field.\\nBy default every update of chi manifest will generate random taskID\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"allows troubleshoot Pods during CrashLoopBack state, when you apply wrong configuration, <code>clickhouse-server</code> wouldn't startup\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"timeout in seconds when <code>clickhouse-operator</code> will wait when applied <code>ConfigMap</code> during reconcile <code>ClickhouseInstallation</code> pods will updated from cache\\nsee details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DEPRECATED\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"optional, define behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"what clickhouse-operator shall do when reconciling Kubernetes resources are failed, default behavior is <code>Retain</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for failed ConfigMap reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for failed PVC reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for failed Service reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for failed StatefulSet reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"what clickhouse-operator shall do when found Kubernetes resources which should be managed with clickhouse-operator, but not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource, default behavior is <code>Delete</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for unknown ConfigMap, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for unknown PVC, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for unknown Service, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for unknown StatefulSet, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"optional, define policy for auto applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"optional, define selector applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"optional, define selector applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"when defined as <code>auto</code> inside ClickhouseInstallationTemplate, it will auto add into all ClickHouseInstallation, manual value is default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/","title":"clickhouse.v1.clickHouseInstallationTemplate","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fields","title":"Fields","text":""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallationTemplate</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"custom domain suffix which will add to end of <code>Service</code> or <code>Pod</code> name, use it when you use custom cluster domain in your Kubernetes cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"This is a 'soft restart' button. When set to 'RollingUpdate' operator will restart ClickHouse pods in a graceful way. Remove it after the use in order to avoid unneeded restarts\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allow stop all ClickHouse clusters described in current chi.\\nStop mechanism works as follows:\\n - When <code>stop</code> is <code>1</code> then setup <code>Replicas: 0</code> in each related to current <code>chi</code> StatefulSet resource, all <code>Pods</code> and <code>Service</code> resources will desctroy, but PVCs still live\\n - When <code>stop</code> is <code>0</code> then <code>Pods</code> will created again and will attach retained PVCs and <code>Service</code> also will created again\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for named update operation and watch status of this update execution in .status.taskIDs field.\\nBy default every update of chi manifest will generate random taskID\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"allows troubleshoot Pods during CrashLoopBack state, when you apply wrong configuration, <code>clickhouse-server</code> wouldn't startup\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"timeout in seconds when <code>clickhouse-operator</code> will wait when applied <code>ConfigMap</code> during reconcile <code>ClickhouseInstallation</code> pods will updated from cache\\nsee details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DEPRECATED\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"optional, define behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"what clickhouse-operator shall do when reconciling Kubernetes resources are failed, default behavior is <code>Retain</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for failed ConfigMap reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for failed PVC reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for failed Service reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for failed StatefulSet reconciling, Retain by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"what clickhouse-operator shall do when found Kubernetes resources which should be managed with clickhouse-operator, but not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource, default behavior is <code>Delete</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for unknown ConfigMap, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for unknown PVC, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for unknown Service, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for unknown StatefulSet, Delete by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"optional, define policy for auto applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"optional, define selector applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"optional, define selector applying ClickHouseInstallationTemplate inside ClickHouseInstallation\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"when defined as <code>auto</code> inside ClickhouseInstallationTemplate, it will auto add into all ClickHouseInstallation, manual value is default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/","title":"clickhouse.v1.clickHouseOperatorConfiguration","text":"<p>\"allows customize <code>clickhouse-operator</code> settings, need restart clickhouse-operator pod after adding, more details https://github.com/Altinity/clickhouse-operator/blob/master/docs/operator_configuration.md\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>obj spec.annotation</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.clickhouse</code><ul> <li><code>obj spec.clickhouse.access</code><ul> <li><code>fn withPassword(password)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withRootCA(rootCA)</code></li> <li><code>fn withScheme(scheme)</code></li> <li><code>fn withUsername(username)</code></li> <li><code>obj spec.clickhouse.access.secret</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> </ul> </li> <li><code>obj spec.clickhouse.access.timeouts</code><ul> <li><code>fn withConnect(connect)</code></li> <li><code>fn withQuery(query)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration</code><ul> <li><code>obj spec.clickhouse.configuration.file</code><ul> <li><code>obj spec.clickhouse.configuration.file.path</code><ul> <li><code>fn withCommon(common)</code></li> <li><code>fn withHost(host)</code></li> <li><code>fn withUser(user)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration.network</code><ul> <li><code>fn withHostRegexpTemplate(hostRegexpTemplate)</code></li> </ul> </li> <li><code>obj spec.clickhouse.configuration.user</code><ul> <li><code>obj spec.clickhouse.configuration.user.default</code><ul> <li><code>fn withNetworksIP(networksIP)</code></li> <li><code>fn withNetworksIPMixin(networksIP)</code></li> <li><code>fn withPassword(password)</code></li> <li><code>fn withProfile(profile)</code></li> <li><code>fn withQuota(quota)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configurationRestartPolicy</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>obj spec.clickhouse.configurationRestartPolicy.rules</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>fn withVersion(version)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.metrics</code><ul> <li><code>obj spec.clickhouse.metrics.timeouts</code><ul> <li><code>fn withCollect(collect)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.label</code><ul> <li><code>fn withAppendScope(appendScope)</code></li> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.logger</code><ul> <li><code>fn withAlsologtostderr(alsologtostderr)</code></li> <li><code>fn withLog_backtrace_at(log_backtrace_at)</code></li> <li><code>fn withLogtostderr(logtostderr)</code></li> <li><code>fn withStderrthreshold(stderrthreshold)</code></li> <li><code>fn withV(v)</code></li> <li><code>fn withVmodule(vmodule)</code></li> </ul> </li> <li><code>obj spec.pod</code><ul> <li><code>fn withTerminationGracePeriod(terminationGracePeriod)</code></li> </ul> </li> <li><code>obj spec.reconcile</code><ul> <li><code>obj spec.reconcile.host</code><ul> <li><code>obj spec.reconcile.host.wait</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withInclude(include)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconcile.runtime</code><ul> <li><code>fn withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)</code></li> <li><code>fn withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)</code></li> <li><code>fn withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet</code><ul> <li><code>obj spec.reconcile.statefulSet.create</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet.update</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> <li><code>fn withPollInterval(pollInterval)</code></li> <li><code>fn withTimeout(timeout)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.statefulSet</code><ul> <li><code>fn withRevisionHistoryLimit(revisionHistoryLimit)</code></li> </ul> </li> <li><code>obj spec.template</code><ul> <li><code>obj spec.template.chi</code><ul> <li><code>fn withPath(path)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.watch</code><ul> <li><code>fn withNamespaces(namespaces)</code></li> <li><code>fn withNamespacesMixin(namespaces)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fields","title":"Fields","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseOperatorConfiguration</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spec","title":"obj spec","text":"<p>\"Allows to define settings of the clickhouse-operator.\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/config/config.yaml\\nCheck into etc-clickhouse-operator* ConfigMaps if you need more control\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specannotation","title":"obj spec.annotation","text":"<p>\"defines which metadata.annotations items will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexclude","title":"fn spec.annotation.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexcludemixin","title":"fn spec.annotation.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithinclude","title":"fn spec.annotation.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithincludemixin","title":"fn spec.annotation.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouse","title":"obj spec.clickhouse","text":"<p>\"Clickhouse related parameters used by clickhouse-operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccess","title":"obj spec.clickhouse.access","text":"<p>\"parameters which use for connect to clickhouse from clickhouse-operator deployment\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithpassword","title":"fn spec.clickhouse.access.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse password to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithport","title":"fn spec.clickhouse.access.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"Port to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithrootca","title":"fn spec.clickhouse.access.withRootCA","text":"<pre><code>withRootCA(rootCA)\n</code></pre> <p>\"Root certificate authority that clients use when verifying server certificates. Used for https connection to ClickHouse\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithscheme","title":"fn spec.clickhouse.access.withScheme","text":"<pre><code>withScheme(scheme)\n</code></pre> <p>\"The scheme to user for connecting to ClickHouse. Possible values: http, https, auto\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithusername","title":"fn spec.clickhouse.access.withUsername","text":"<pre><code>withUsername(username)\n</code></pre> <p>\"ClickHouse username to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesssecret","title":"obj spec.clickhouse.access.secret","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithname","title":"fn spec.clickhouse.access.secret.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithnamespace","title":"fn spec.clickhouse.access.secret.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Location of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesstimeouts","title":"obj spec.clickhouse.access.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the operator to ClickHouse instances, In seconds\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithconnect","title":"fn spec.clickhouse.access.timeouts.withConnect","text":"<pre><code>withConnect(connect)\n</code></pre> <p>\"Connect timeout. In seconds.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithquery","title":"fn spec.clickhouse.access.timeouts.withQuery","text":"<pre><code>withQuery(query)\n</code></pre> <p>\"Query timeout. In seconds.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfiguration","title":"obj spec.clickhouse.configuration","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfile","title":"obj spec.clickhouse.configuration.file","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfilepath","title":"obj spec.clickhouse.configuration.file.path","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithcommon","title":"fn spec.clickhouse.configuration.file.path.withCommon","text":"<pre><code>withCommon(common)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files common for all instances within a CHI are located. Default - config.d\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithhost","title":"fn spec.clickhouse.configuration.file.path.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files unique for each instance (host) within a CHI are located. Default - conf.d\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithuser","title":"fn spec.clickhouse.configuration.file.path.withUser","text":"<pre><code>withUser(user)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files with users settings are located. Files are common for all instances within a CHI. Default - users.d\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationnetwork","title":"obj spec.clickhouse.configuration.network","text":"<p>\"Default network parameters for any user which will create\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationnetworkwithhostregexptemplate","title":"fn spec.clickhouse.configuration.network.withHostRegexpTemplate","text":"<pre><code>withHostRegexpTemplate(hostRegexpTemplate)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;host_regexp&gt;...&lt;/host_regexp&gt;</code> for any \""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuser","title":"obj spec.clickhouse.configuration.user","text":"<p>\"Default parameters for any user which will create\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuserdefault","title":"obj spec.clickhouse.configuration.user.default","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksip","title":"fn spec.clickhouse.configuration.user.default.withNetworksIP","text":"<pre><code>withNetworksIP(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksipmixin","title":"fn spec.clickhouse.configuration.user.default.withNetworksIPMixin","text":"<pre><code>withNetworksIPMixin(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithpassword","title":"fn spec.clickhouse.configuration.user.default.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;password&gt;...&lt;/password&gt;</code> for any \""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithprofile","title":"fn spec.clickhouse.configuration.user.default.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;profile&gt;...&lt;/profile&gt;</code> for any \""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithquota","title":"fn spec.clickhouse.configuration.user.default.withQuota","text":"<pre><code>withQuota(quota)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;quota&gt;...&lt;/quota&gt;</code> for any \""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicy","title":"obj spec.clickhouse.configurationRestartPolicy","text":"<p>\"Configuration restart policy describes what configuration changes require ClickHouse restart\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrules","title":"fn spec.clickhouse.configurationRestartPolicy.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicyrules","title":"obj spec.clickhouse.configurationRestartPolicy.rules","text":"<p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrules","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithversion","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withVersion","text":"<pre><code>withVersion(version)\n</code></pre> <p>\"ClickHouse version expression\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetrics","title":"obj spec.clickhouse.metrics","text":"<p>\"parameters which use for connect to fetch metrics from clickhouse by clickhouse-operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetricstimeouts","title":"obj spec.clickhouse.metrics.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the operator to ClickHouse instances, In seconds\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhousemetricstimeoutswithcollect","title":"fn spec.clickhouse.metrics.timeouts.withCollect","text":"<pre><code>withCollect(collect)\n</code></pre> <p>\"Collect timeout. In seconds.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclabel","title":"obj spec.label","text":"<p>\"defines which metadata.labels will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithappendscope","title":"fn spec.label.withAppendScope","text":"<pre><code>withAppendScope(appendScope)\n</code></pre> <p>\"Whether to append Scope labels to StatefulSet and Pod\\n- \\\"LabelShardScopeIndex\\\"\\n- \\\"LabelReplicaScopeIndex\\\"\\n- \\\"LabelCHIScopeIndex\\\"\\n- \\\"LabelCHIScopeCycleSize\\\"\\n- \\\"LabelCHIScopeCycleIndex\\\"\\n- \\\"LabelCHIScopeCycleOffset\\\"\\n- \\\"LabelClusterScopeIndex\\\"\\n- \\\"LabelClusterScopeCycleSize\\\"\\n- \\\"LabelClusterScopeCycleIndex\\\"\\n- \\\"LabelClusterScopeCycleOffset\\\"\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexclude","title":"fn spec.label.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexcludemixin","title":"fn spec.label.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithinclude","title":"fn spec.label.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithincludemixin","title":"fn spec.label.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclogger","title":"obj spec.logger","text":"<p>\"allow setup clickhouse-operator logger behavior\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithalsologtostderr","title":"fn spec.logger.withAlsologtostderr","text":"<pre><code>withAlsologtostderr(alsologtostderr)\n</code></pre> <p>\"boolean allows logs to stderr and files both\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlog_backtrace_at","title":"fn spec.logger.withLog_backtrace_at","text":"<pre><code>withLog_backtrace_at(log_backtrace_at)\n</code></pre> <p>\"It can be set to a file and line number with a logging line.\\nEx.: file.go:123\\nEach time when this line is being executed, a stack trace will be written to the Info log.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlogtostderr","title":"fn spec.logger.withLogtostderr","text":"<pre><code>withLogtostderr(logtostderr)\n</code></pre> <p>\"boolean, allows logs to stderr\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithstderrthreshold","title":"fn spec.logger.withStderrthreshold","text":"<pre><code>withStderrthreshold(stderrthreshold)\n</code></pre>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithv","title":"fn spec.logger.withV","text":"<pre><code>withV(v)\n</code></pre> <p>\"verbosity level of clickhouse-operator log, default - 1 max - 9\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithvmodule","title":"fn spec.logger.withVmodule","text":"<pre><code>withVmodule(vmodule)\n</code></pre> <p>\"Comma-separated list of filename=N, where filename (can be a pattern) must have no .go ext, and N is a V level.\\nEx.: file=2 sets the 'V' to 2 in all files with names like file.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specpod","title":"obj spec.pod","text":"<p>\"define pod specific parameters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specpodwithterminationgraceperiod","title":"fn spec.pod.withTerminationGracePeriod","text":"<pre><code>withTerminationGracePeriod(terminationGracePeriod)\n</code></pre> <p>\"Optional duration in seconds the pod needs to terminate gracefully. \\nLook details in <code>pod.spec.terminationGracePeriodSeconds</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcile","title":"obj spec.reconcile","text":"<p>\"allow tuning reconciling process\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehost","title":"obj spec.reconcile.host","text":"<p>\"allow define how to wait host include to system.cluster behavior during scale up and scale down cluster operations\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehostwait","title":"obj spec.reconcile.host.wait","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithexclude","title":"fn spec.reconcile.host.wait.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"wait when a pod will be removed from the cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithinclude","title":"fn spec.reconcile.host.wait.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"wait when a pod will be added to the cluster\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcileruntime","title":"obj spec.reconcile.runtime","text":"<p>\"runtime parameters for clickhouse-operator process which are used during reconcile cycle\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcilechisthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileCHIsThreadsNumber","text":"<pre><code>withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile CHIs in parallel, 10 by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsmaxconcurrencypercent","title":"fn spec.reconcile.runtime.withReconcileShardsMaxConcurrencyPercent","text":"<pre><code>withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)\n</code></pre> <p>\"The maximum percentage of cluster shards that may be reconciled in parallel, 50 percent by default.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileShardsThreadsNumber","text":"<pre><code>withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile shards of a cluster in parallel, 1 by default\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulset","title":"obj spec.reconcile.statefulSet","text":"<p>\"Allow change default behavior for reconciling StatefulSet which generated by clickhouse-operator\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetcreate","title":"obj spec.reconcile.statefulSet.create","text":"<p>\"Behavior during create StatefulSet\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetcreatewithonfailure","title":"fn spec.reconcile.statefulSet.create.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case created StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. delete - delete newly created problematic StatefulSet.\\n3. ignore (default) - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetupdate","title":"obj spec.reconcile.statefulSet.update","text":"<p>\"Behavior during update StatefulSet\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithonfailure","title":"fn spec.reconcile.statefulSet.update.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case updated StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. rollback (default) - delete Pod and rollback StatefulSet to previous Generation. Pod would be recreated by StatefulSet based on rollback-ed configuration.\\n3. ignore - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithpollinterval","title":"fn spec.reconcile.statefulSet.update.withPollInterval","text":"<pre><code>withPollInterval(pollInterval)\n</code></pre> <p>\"How many seconds to wait between checks for created/updated StatefulSet status\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithtimeout","title":"fn spec.reconcile.statefulSet.update.withTimeout","text":"<pre><code>withTimeout(timeout)\n</code></pre> <p>\"How many seconds to wait for created/updated StatefulSet to be Ready\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specstatefulset","title":"obj spec.statefulSet","text":"<p>\"define StatefulSet-specific parameters\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specstatefulsetwithrevisionhistorylimit","title":"fn spec.statefulSet.withRevisionHistoryLimit","text":"<pre><code>withRevisionHistoryLimit(revisionHistoryLimit)\n</code></pre> <p>\"revisionHistoryLimit is the maximum number of revisions that will be\\nmaintained in the StatefulSet's revision history.                         \\nLook details in <code>statefulset.spec.revisionHistoryLimit</code>\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplate","title":"obj spec.template","text":"<p>\"Parameters which are used if you want to generate ClickHouseInstallationTemplate custom resources from files which are stored inside clickhouse-operator deployment\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplatechi","title":"obj spec.template.chi","text":""},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpath","title":"fn spec.template.chi.withPath","text":"<pre><code>withPath(path)\n</code></pre> <p>\"Path to folder where ClickHouseInstallationTemplate .yaml manifests are located.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpolicy","title":"fn spec.template.chi.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"CHI template updates handling policy\\nPossible policy values:\\n  - ReadOnStart. Accept CHIT updates on the operators start only.\\n  - ApplyOnNextReconcile. Accept CHIT updates at all time. Apply news CHITs on next regular reconcile of the CHI\\n\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specwatch","title":"obj spec.watch","text":"<p>\"Parameters for watch kubernetes resources which used by clickhouse-operator deployment\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespaces","title":"fn spec.watch.withNamespaces","text":"<pre><code>withNamespaces(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p>"},{"location":"0.21/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespacesmixin","title":"fn spec.watch.withNamespacesMixin","text":"<pre><code>withNamespacesMixin(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/","title":"clickhouse-operator","text":"<pre><code>local clickhouse-operator = import \"github.com/jsonnet-libs/clickhouse-operator-libsonnet/0.22/main.libsonnet\"\n</code></pre> <ul> <li>clickhouse</li> </ul>"},{"location":"0.22/clickhouse/","title":"clickhouse","text":"<ul> <li>v1</li> </ul>"},{"location":"0.22/clickhouse/v1/","title":"clickhouse.v1","text":"<ul> <li>clickHouseInstallation</li> <li>clickHouseInstallationTemplate</li> <li>clickHouseOperatorConfiguration</li> </ul>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/","title":"clickhouse.v1.clickHouseInstallation","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fields","title":"Fields","text":""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallation</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"Custom domain pattern which will be used for DNS names of <code>Service</code> or <code>Pod</code>.\\nTypical use scenario - custom cluster domain in Kubernetes cluster\\nExample: %s.svc.my.test\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"In case 'RollingUpdate' specified, the operator will always restart ClickHouse pods during reconcile.\\nThis options is used in rare cases when force restart is required and is typically removed after the use in order to avoid unneeded restarts.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allows to stop all ClickHouse clusters defined in a CHI.\\nWorks as the following:\\n - When <code>stop</code> is <code>1</code> operator sets <code>Replicas: 0</code> in each StatefulSet. Thie leads to having all <code>Pods</code> and <code>Service</code> deleted. All PVCs are kept intact.\\n - When <code>stop</code> is <code>0</code> operator sets <code>Replicas: 1</code> and <code>Pod</code>s and <code>Service</code>s will created again and all retained PVCs will be attached to <code>Pod</code>s.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for CHI update and watch status of this update execution.\\nDisplayed in all .status.taskID* fields.\\nBy default (if not filled) every update of CHI manifest will generate random taskID\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"Allows to troubleshoot Pods during CrashLoopBack state.\\nThis may happen when wrong configuration applied, in this case <code>clickhouse-server</code> wouldn't start.\\nCommand within ClickHouse container is modified with <code>sleep</code> in order to avoid quick restarts\\nand give time to troubleshoot via CLI.\\nLiveness and Readiness probes are disabled as well.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"Timeout in seconds for <code>clickhouse-operator</code> to wait for modified <code>ConfigMap</code> to propagate into the <code>Pod</code>\\nMore details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DEPRECATED\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"optional, define behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"what clickhouse-operator shall do when reconciling Kubernetes resources are failed, default behavior is <code>Retain</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for failed ConfigMap reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for failed PVC reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for failed Service reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for failed StatefulSet reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"what clickhouse-operator shall do when found Kubernetes resources which should be managed with clickhouse-operator, but not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource, default behavior is <code>Delete</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for unknown ConfigMap, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for unknown PVC, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for unknown Service, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for unknown StatefulSet, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"Optional, defines policy for applying current ClickHouseInstallationTemplate to ClickHouseInstallation(s)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"When defined as <code>auto</code> inside ClickhouseInstallationTemplate, this ClickhouseInstallationTemplate\\nwill be auto-added into ClickHouseInstallation, selectable by <code>chiSelector</code>.\\nDefault value is <code>manual</code>, meaning ClickHouseInstallation should request this ClickhouseInstallationTemplate explicitly.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/","title":"clickhouse.v1.clickHouseInstallationTemplate","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fields","title":"Fields","text":""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallationTemplate</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"Custom domain pattern which will be used for DNS names of <code>Service</code> or <code>Pod</code>.\\nTypical use scenario - custom cluster domain in Kubernetes cluster\\nExample: %s.svc.my.test\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"In case 'RollingUpdate' specified, the operator will always restart ClickHouse pods during reconcile.\\nThis options is used in rare cases when force restart is required and is typically removed after the use in order to avoid unneeded restarts.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allows to stop all ClickHouse clusters defined in a CHI.\\nWorks as the following:\\n - When <code>stop</code> is <code>1</code> operator sets <code>Replicas: 0</code> in each StatefulSet. Thie leads to having all <code>Pods</code> and <code>Service</code> deleted. All PVCs are kept intact.\\n - When <code>stop</code> is <code>0</code> operator sets <code>Replicas: 1</code> and <code>Pod</code>s and <code>Service</code>s will created again and all retained PVCs will be attached to <code>Pod</code>s.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for CHI update and watch status of this update execution.\\nDisplayed in all .status.taskID* fields.\\nBy default (if not filled) every update of CHI manifest will generate random taskID\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"Allows to troubleshoot Pods during CrashLoopBack state.\\nThis may happen when wrong configuration applied, in this case <code>clickhouse-server</code> wouldn't start.\\nCommand within ClickHouse container is modified with <code>sleep</code> in order to avoid quick restarts\\nand give time to troubleshoot via CLI.\\nLiveness and Readiness probes are disabled as well.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"Timeout in seconds for <code>clickhouse-operator</code> to wait for modified <code>ConfigMap</code> to propagate into the <code>Pod</code>\\nMore details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DEPRECATED\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"optional, define behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"what clickhouse-operator shall do when reconciling Kubernetes resources are failed, default behavior is <code>Retain</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for failed ConfigMap reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for failed PVC reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for failed Service reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for failed StatefulSet reconciling, Retain by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"what clickhouse-operator shall do when found Kubernetes resources which should be managed with clickhouse-operator, but not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource, default behavior is <code>Delete</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"behavior policy for unknown ConfigMap, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"behavior policy for unknown PVC, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"behavior policy for unknown Service, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"behavior policy for unknown StatefulSet, Delete by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"Optional, defines policy for applying current ClickHouseInstallationTemplate to ClickHouseInstallation(s)\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"When defined as <code>auto</code> inside ClickhouseInstallationTemplate, this ClickhouseInstallationTemplate\\nwill be auto-added into ClickHouseInstallation, selectable by <code>chiSelector</code>.\\nDefault value is <code>manual</code>, meaning ClickHouseInstallation should request this ClickhouseInstallationTemplate explicitly.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/","title":"clickhouse.v1.clickHouseOperatorConfiguration","text":"<p>\"allows customize <code>clickhouse-operator</code> settings, need restart clickhouse-operator pod after adding, more details https://github.com/Altinity/clickhouse-operator/blob/master/docs/operator_configuration.md\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>obj spec.annotation</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.clickhouse</code><ul> <li><code>obj spec.clickhouse.access</code><ul> <li><code>fn withPassword(password)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withRootCA(rootCA)</code></li> <li><code>fn withScheme(scheme)</code></li> <li><code>fn withUsername(username)</code></li> <li><code>obj spec.clickhouse.access.secret</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> </ul> </li> <li><code>obj spec.clickhouse.access.timeouts</code><ul> <li><code>fn withConnect(connect)</code></li> <li><code>fn withQuery(query)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration</code><ul> <li><code>obj spec.clickhouse.configuration.file</code><ul> <li><code>obj spec.clickhouse.configuration.file.path</code><ul> <li><code>fn withCommon(common)</code></li> <li><code>fn withHost(host)</code></li> <li><code>fn withUser(user)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration.network</code><ul> <li><code>fn withHostRegexpTemplate(hostRegexpTemplate)</code></li> </ul> </li> <li><code>obj spec.clickhouse.configuration.user</code><ul> <li><code>obj spec.clickhouse.configuration.user.default</code><ul> <li><code>fn withNetworksIP(networksIP)</code></li> <li><code>fn withNetworksIPMixin(networksIP)</code></li> <li><code>fn withPassword(password)</code></li> <li><code>fn withProfile(profile)</code></li> <li><code>fn withQuota(quota)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configurationRestartPolicy</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>obj spec.clickhouse.configurationRestartPolicy.rules</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>fn withVersion(version)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.metrics</code><ul> <li><code>obj spec.clickhouse.metrics.timeouts</code><ul> <li><code>fn withCollect(collect)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.label</code><ul> <li><code>fn withAppendScope(appendScope)</code></li> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.logger</code><ul> <li><code>fn withAlsologtostderr(alsologtostderr)</code></li> <li><code>fn withLog_backtrace_at(log_backtrace_at)</code></li> <li><code>fn withLogtostderr(logtostderr)</code></li> <li><code>fn withStderrthreshold(stderrthreshold)</code></li> <li><code>fn withV(v)</code></li> <li><code>fn withVmodule(vmodule)</code></li> </ul> </li> <li><code>obj spec.pod</code><ul> <li><code>fn withTerminationGracePeriod(terminationGracePeriod)</code></li> </ul> </li> <li><code>obj spec.reconcile</code><ul> <li><code>obj spec.reconcile.host</code><ul> <li><code>obj spec.reconcile.host.wait</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withQueries(queries)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconcile.runtime</code><ul> <li><code>fn withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)</code></li> <li><code>fn withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)</code></li> <li><code>fn withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet</code><ul> <li><code>obj spec.reconcile.statefulSet.create</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet.update</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> <li><code>fn withPollInterval(pollInterval)</code></li> <li><code>fn withTimeout(timeout)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.statefulSet</code><ul> <li><code>fn withRevisionHistoryLimit(revisionHistoryLimit)</code></li> </ul> </li> <li><code>obj spec.template</code><ul> <li><code>obj spec.template.chi</code><ul> <li><code>fn withPath(path)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.watch</code><ul> <li><code>fn withNamespaces(namespaces)</code></li> <li><code>fn withNamespacesMixin(namespaces)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fields","title":"Fields","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseOperatorConfiguration</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spec","title":"obj spec","text":"<p>\"Allows to define settings of the clickhouse-operator.\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/config/config.yaml\\nCheck into etc-clickhouse-operator* ConfigMaps if you need more control\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specannotation","title":"obj spec.annotation","text":"<p>\"defines which metadata.annotations items will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexclude","title":"fn spec.annotation.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexcludemixin","title":"fn spec.annotation.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithinclude","title":"fn spec.annotation.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithincludemixin","title":"fn spec.annotation.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouse","title":"obj spec.clickhouse","text":"<p>\"Clickhouse related parameters used by clickhouse-operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccess","title":"obj spec.clickhouse.access","text":"<p>\"parameters which use for connect to clickhouse from clickhouse-operator deployment\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithpassword","title":"fn spec.clickhouse.access.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse password to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithport","title":"fn spec.clickhouse.access.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"Port to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithrootca","title":"fn spec.clickhouse.access.withRootCA","text":"<pre><code>withRootCA(rootCA)\n</code></pre> <p>\"Root certificate authority that clients use when verifying server certificates. Used for https connection to ClickHouse\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithscheme","title":"fn spec.clickhouse.access.withScheme","text":"<pre><code>withScheme(scheme)\n</code></pre> <p>\"The scheme to user for connecting to ClickHouse. Possible values: http, https, auto\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithusername","title":"fn spec.clickhouse.access.withUsername","text":"<pre><code>withUsername(username)\n</code></pre> <p>\"ClickHouse username to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesssecret","title":"obj spec.clickhouse.access.secret","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithname","title":"fn spec.clickhouse.access.secret.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithnamespace","title":"fn spec.clickhouse.access.secret.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Location of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesstimeouts","title":"obj spec.clickhouse.access.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the operator to ClickHouse instances, In seconds\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithconnect","title":"fn spec.clickhouse.access.timeouts.withConnect","text":"<pre><code>withConnect(connect)\n</code></pre> <p>\"Timout to setup connection from the operator to ClickHouse instances. In seconds.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithquery","title":"fn spec.clickhouse.access.timeouts.withQuery","text":"<pre><code>withQuery(query)\n</code></pre> <p>\"Timout to perform SQL query from the operator to ClickHouse instances. In seconds.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfiguration","title":"obj spec.clickhouse.configuration","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfile","title":"obj spec.clickhouse.configuration.file","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfilepath","title":"obj spec.clickhouse.configuration.file.path","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithcommon","title":"fn spec.clickhouse.configuration.file.path.withCommon","text":"<pre><code>withCommon(common)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files common for all instances within a CHI are located. Default - config.d\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithhost","title":"fn spec.clickhouse.configuration.file.path.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files unique for each instance (host) within a CHI are located. Default - conf.d\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithuser","title":"fn spec.clickhouse.configuration.file.path.withUser","text":"<pre><code>withUser(user)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files with users settings are located. Files are common for all instances within a CHI. Default - users.d\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationnetwork","title":"obj spec.clickhouse.configuration.network","text":"<p>\"Default network parameters for any user which will create\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationnetworkwithhostregexptemplate","title":"fn spec.clickhouse.configuration.network.withHostRegexpTemplate","text":"<pre><code>withHostRegexpTemplate(hostRegexpTemplate)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;host_regexp&gt;...&lt;/host_regexp&gt;</code> for any \""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuser","title":"obj spec.clickhouse.configuration.user","text":"<p>\"Default parameters for any user which will create\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuserdefault","title":"obj spec.clickhouse.configuration.user.default","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksip","title":"fn spec.clickhouse.configuration.user.default.withNetworksIP","text":"<pre><code>withNetworksIP(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksipmixin","title":"fn spec.clickhouse.configuration.user.default.withNetworksIPMixin","text":"<pre><code>withNetworksIPMixin(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithpassword","title":"fn spec.clickhouse.configuration.user.default.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;password&gt;...&lt;/password&gt;</code> for any \""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithprofile","title":"fn spec.clickhouse.configuration.user.default.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;profile&gt;...&lt;/profile&gt;</code> for any \""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithquota","title":"fn spec.clickhouse.configuration.user.default.withQuota","text":"<pre><code>withQuota(quota)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;quota&gt;...&lt;/quota&gt;</code> for any \""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicy","title":"obj spec.clickhouse.configurationRestartPolicy","text":"<p>\"Configuration restart policy describes what configuration changes require ClickHouse restart\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrules","title":"fn spec.clickhouse.configurationRestartPolicy.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicyrules","title":"obj spec.clickhouse.configurationRestartPolicy.rules","text":"<p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrules","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithversion","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withVersion","text":"<pre><code>withVersion(version)\n</code></pre> <p>\"ClickHouse version expression\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetrics","title":"obj spec.clickhouse.metrics","text":"<p>\"parameters which use for connect to fetch metrics from clickhouse by clickhouse-operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetricstimeouts","title":"obj spec.clickhouse.metrics.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the metrics exporter to ClickHouse instances\\nSpecified in seconds.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhousemetricstimeoutswithcollect","title":"fn spec.clickhouse.metrics.timeouts.withCollect","text":"<pre><code>withCollect(collect)\n</code></pre> <p>\"Timeout used to limit metrics collection request. In seconds.\\nUpon reaching this timeout metrics collection is aborted and no more metrics are collected in this cycle.\\nAll collected metrics are returned.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclabel","title":"obj spec.label","text":"<p>\"defines which metadata.labels will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithappendscope","title":"fn spec.label.withAppendScope","text":"<pre><code>withAppendScope(appendScope)\n</code></pre> <p>\"Whether to append Scope labels to StatefulSet and Pod\\n- \\\"LabelShardScopeIndex\\\"\\n- \\\"LabelReplicaScopeIndex\\\"\\n- \\\"LabelCHIScopeIndex\\\"\\n- \\\"LabelCHIScopeCycleSize\\\"\\n- \\\"LabelCHIScopeCycleIndex\\\"\\n- \\\"LabelCHIScopeCycleOffset\\\"\\n- \\\"LabelClusterScopeIndex\\\"\\n- \\\"LabelClusterScopeCycleSize\\\"\\n- \\\"LabelClusterScopeCycleIndex\\\"\\n- \\\"LabelClusterScopeCycleOffset\\\"\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexclude","title":"fn spec.label.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexcludemixin","title":"fn spec.label.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithinclude","title":"fn spec.label.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithincludemixin","title":"fn spec.label.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclogger","title":"obj spec.logger","text":"<p>\"allow setup clickhouse-operator logger behavior\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithalsologtostderr","title":"fn spec.logger.withAlsologtostderr","text":"<pre><code>withAlsologtostderr(alsologtostderr)\n</code></pre> <p>\"boolean allows logs to stderr and files both\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlog_backtrace_at","title":"fn spec.logger.withLog_backtrace_at","text":"<pre><code>withLog_backtrace_at(log_backtrace_at)\n</code></pre> <p>\"It can be set to a file and line number with a logging line.\\nEx.: file.go:123\\nEach time when this line is being executed, a stack trace will be written to the Info log.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlogtostderr","title":"fn spec.logger.withLogtostderr","text":"<pre><code>withLogtostderr(logtostderr)\n</code></pre> <p>\"boolean, allows logs to stderr\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithstderrthreshold","title":"fn spec.logger.withStderrthreshold","text":"<pre><code>withStderrthreshold(stderrthreshold)\n</code></pre>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithv","title":"fn spec.logger.withV","text":"<pre><code>withV(v)\n</code></pre> <p>\"verbosity level of clickhouse-operator log, default - 1 max - 9\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithvmodule","title":"fn spec.logger.withVmodule","text":"<pre><code>withVmodule(vmodule)\n</code></pre> <p>\"Comma-separated list of filename=N, where filename (can be a pattern) must have no .go ext, and N is a V level.\\nEx.: file=2 sets the 'V' to 2 in all files with names like file.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specpod","title":"obj spec.pod","text":"<p>\"define pod specific parameters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specpodwithterminationgraceperiod","title":"fn spec.pod.withTerminationGracePeriod","text":"<pre><code>withTerminationGracePeriod(terminationGracePeriod)\n</code></pre> <p>\"Optional duration in seconds the pod needs to terminate gracefully. \\nLook details in <code>pod.spec.terminationGracePeriodSeconds</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcile","title":"obj spec.reconcile","text":"<p>\"allow tuning reconciling process\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehost","title":"obj spec.reconcile.host","text":"<p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host:\\n  - to be excluded from a ClickHouse cluster\\n  - to complete all running queries\\n  - to be included into a ClickHouse cluster\\nrespectfully before moving forward\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehostwait","title":"obj spec.reconcile.host.wait","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithexclude","title":"fn spec.reconcile.host.wait.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to be excluded from a ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithinclude","title":"fn spec.reconcile.host.wait.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to be included into a ClickHouse cluster\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithqueries","title":"fn spec.reconcile.host.wait.withQueries","text":"<pre><code>withQueries(queries)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to complete all running queries\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcileruntime","title":"obj spec.reconcile.runtime","text":"<p>\"runtime parameters for clickhouse-operator process which are used during reconcile cycle\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcilechisthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileCHIsThreadsNumber","text":"<pre><code>withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile CHIs in parallel, 10 by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsmaxconcurrencypercent","title":"fn spec.reconcile.runtime.withReconcileShardsMaxConcurrencyPercent","text":"<pre><code>withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)\n</code></pre> <p>\"The maximum percentage of cluster shards that may be reconciled in parallel, 50 percent by default.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileShardsThreadsNumber","text":"<pre><code>withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile shards of a cluster in parallel, 1 by default\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulset","title":"obj spec.reconcile.statefulSet","text":"<p>\"Allow change default behavior for reconciling StatefulSet which generated by clickhouse-operator\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetcreate","title":"obj spec.reconcile.statefulSet.create","text":"<p>\"Behavior during create StatefulSet\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetcreatewithonfailure","title":"fn spec.reconcile.statefulSet.create.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case created StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. delete - delete newly created problematic StatefulSet.\\n3. ignore (default) - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetupdate","title":"obj spec.reconcile.statefulSet.update","text":"<p>\"Behavior during update StatefulSet\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithonfailure","title":"fn spec.reconcile.statefulSet.update.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case updated StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. rollback (default) - delete Pod and rollback StatefulSet to previous Generation. Pod would be recreated by StatefulSet based on rollback-ed configuration.\\n3. ignore - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithpollinterval","title":"fn spec.reconcile.statefulSet.update.withPollInterval","text":"<pre><code>withPollInterval(pollInterval)\n</code></pre> <p>\"How many seconds to wait between checks for created/updated StatefulSet status\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithtimeout","title":"fn spec.reconcile.statefulSet.update.withTimeout","text":"<pre><code>withTimeout(timeout)\n</code></pre> <p>\"How many seconds to wait for created/updated StatefulSet to be Ready\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specstatefulset","title":"obj spec.statefulSet","text":"<p>\"define StatefulSet-specific parameters\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specstatefulsetwithrevisionhistorylimit","title":"fn spec.statefulSet.withRevisionHistoryLimit","text":"<pre><code>withRevisionHistoryLimit(revisionHistoryLimit)\n</code></pre> <p>\"revisionHistoryLimit is the maximum number of revisions that will be\\nmaintained in the StatefulSet's revision history.                         \\nLook details in <code>statefulset.spec.revisionHistoryLimit</code>\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplate","title":"obj spec.template","text":"<p>\"Parameters which are used if you want to generate ClickHouseInstallationTemplate custom resources from files which are stored inside clickhouse-operator deployment\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplatechi","title":"obj spec.template.chi","text":""},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpath","title":"fn spec.template.chi.withPath","text":"<pre><code>withPath(path)\n</code></pre> <p>\"Path to folder where ClickHouseInstallationTemplate .yaml manifests are located.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpolicy","title":"fn spec.template.chi.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"CHI template updates handling policy\\nPossible policy values:\\n  - ReadOnStart. Accept CHIT updates on the operators start only.\\n  - ApplyOnNextReconcile. Accept CHIT updates at all time. Apply news CHITs on next regular reconcile of the CHI\\n\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specwatch","title":"obj spec.watch","text":"<p>\"Parameters for watch kubernetes resources which used by clickhouse-operator deployment\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespaces","title":"fn spec.watch.withNamespaces","text":"<pre><code>withNamespaces(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p>"},{"location":"0.22/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespacesmixin","title":"fn spec.watch.withNamespacesMixin","text":"<pre><code>withNamespacesMixin(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/","title":"clickhouse-operator","text":"<pre><code>local clickhouse-operator = import \"github.com/jsonnet-libs/clickhouse-operator-libsonnet/0.23/main.libsonnet\"\n</code></pre> <ul> <li>clickhouse</li> </ul>"},{"location":"0.23/clickhouse/","title":"clickhouse","text":"<ul> <li>v1</li> </ul>"},{"location":"0.23/clickhouse/v1/","title":"clickhouse.v1","text":"<ul> <li>clickHouseInstallation</li> <li>clickHouseInstallationTemplate</li> <li>clickHouseOperatorConfiguration</li> </ul>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/","title":"clickhouse.v1.clickHouseInstallation","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fields","title":"Fields","text":""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallation</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"Custom domain pattern which will be used for DNS names of <code>Service</code> or <code>Pod</code>.\\nTypical use scenario - custom cluster domain in Kubernetes cluster\\nExample: %s.svc.my.test\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"In case 'RollingUpdate' specified, the operator will always restart ClickHouse pods during reconcile.\\nThis options is used in rare cases when force restart is required and is typically removed after the use in order to avoid unneeded restarts.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allows to stop all ClickHouse clusters defined in a CHI.\\nWorks as the following:\\n - When <code>stop</code> is <code>1</code> operator sets <code>Replicas: 0</code> in each StatefulSet. Thie leads to having all <code>Pods</code> and <code>Service</code> deleted. All PVCs are kept intact.\\n - When <code>stop</code> is <code>0</code> operator sets <code>Replicas: 1</code> and <code>Pod</code>s and <code>Service</code>s will created again and all retained PVCs will be attached to <code>Pod</code>s.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for CHI update and watch status of this update execution.\\nDisplayed in all .status.taskID* fields.\\nBy default (if not filled) every update of CHI manifest will generate random taskID\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"Allows to troubleshoot Pods during CrashLoopBack state.\\nThis may happen when wrong configuration applied, in this case <code>clickhouse-server</code> wouldn't start.\\nCommand within ClickHouse container is modified with <code>sleep</code> in order to avoid quick restarts\\nand give time to troubleshoot via CLI.\\nLiveness and Readiness probes are disabled as well.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"Optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"Timeout in seconds for <code>clickhouse-operator</code> to wait for modified <code>ConfigMap</code> to propagate into the <code>Pod</code>\\nMore details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DISCUSSED TO BE DEPRECATED\\nSyntax sugar\\nOverrides all three 'reconcile.host.wait.{exclude, queries, include}' values from the operator's config\\nPossible values:\\n - wait - should wait to exclude host, complete queries and include host back into the cluster\\n - nowait - should NOT wait to exclude host, complete queries and include host back into the cluster\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"Optional, defines behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"Describes what clickhouse-operator should do with Kubernetes resources which are failed during reconcile.\\nDefault behavior is <code>Retain</code>\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"Behavior policy for failed ConfigMap, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"Behavior policy for failed PVC, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"Behavior policy for failed Service, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"Behavior policy for failed StatefulSet, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"Describes what clickhouse-operator should do with found Kubernetes resources which should be managed by clickhouse-operator,\\nbut do not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource.\\nDefault behavior is <code>Delete</code>\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"Behavior policy for unknown ConfigMap, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"Behavior policy for unknown PVC, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"Behavior policy for unknown Service, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"Behavior policy for unknown StatefulSet, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"Optional, applicable inside ClickHouseInstallationTemplate only.\\nDefines current ClickHouseInstallationTemplate application options to target ClickHouseInstallation(s).\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"When defined as <code>auto</code> inside ClickhouseInstallationTemplate, this ClickhouseInstallationTemplate\\nwill be auto-added into ClickHouseInstallation, selectable by <code>chiSelector</code>.\\nDefault value is <code>manual</code>, meaning ClickHouseInstallation should request this ClickhouseInstallationTemplate explicitly.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallation/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/","title":"clickhouse.v1.clickHouseInstallationTemplate","text":"<p>\"define a set of Kubernetes resources (StatefulSet, PVC, Service, ConfigMap) which describe behavior one or more ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>fn withNamespaceDomainPattern(namespaceDomainPattern)</code></li> <li><code>fn withRestart(restart)</code></li> <li><code>fn withStop(stop)</code></li> <li><code>fn withTaskID(taskID)</code></li> <li><code>fn withTroubleshoot(troubleshoot)</code></li> <li><code>fn withUseTemplates(useTemplates)</code></li> <li><code>fn withUseTemplatesMixin(useTemplates)</code></li> <li><code>obj spec.configuration</code><ul> <li><code>fn withClusters(clusters)</code></li> <li><code>fn withClustersMixin(clusters)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withProfiles(profiles)</code></li> <li><code>fn withProfilesMixin(profiles)</code></li> <li><code>fn withQuotas(quotas)</code></li> <li><code>fn withQuotasMixin(quotas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withUsers(users)</code></li> <li><code>fn withUsersMixin(users)</code></li> <li><code>obj spec.configuration.clusters</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>obj spec.configuration.clusters.layout</code><ul> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>fn withType(type)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withShards(shards)</code></li> <li><code>fn withShardsCount(shardsCount)</code></li> <li><code>fn withShardsMixin(shards)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.replicas.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards</code><ul> <li><code>fn withDefinitionType(definitionType)</code></li> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withInternalReplication(internalReplication)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withReplicas(replicas)</code></li> <li><code>fn withReplicasCount(replicasCount)</code></li> <li><code>fn withReplicasMixin(replicas)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withWeight(weight)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.configuration.clusters.layout.shards.replicas.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.layout.shards.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.schemaPolicy</code><ul> <li><code>fn withReplica(replica)</code></li> <li><code>fn withShard(shard)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.secret</code><ul> <li><code>fn withAuto(auto)</code></li> <li><code>fn withValue(value)</code></li> <li><code>obj spec.configuration.clusters.secret.valueFrom</code><ul> <li><code>obj spec.configuration.clusters.secret.valueFrom.secretKeyRef</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withOptional(optional)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.clusters.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> <li><code>obj spec.configuration.clusters.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.clusters.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.configuration.zookeeper</code><ul> <li><code>fn withIdentity(identity)</code></li> <li><code>fn withNodes(nodes)</code></li> <li><code>fn withNodesMixin(nodes)</code></li> <li><code>fn withOperation_timeout_ms(operation_timeout_ms)</code></li> <li><code>fn withRoot(root)</code></li> <li><code>fn withSession_timeout_ms(session_timeout_ms)</code></li> <li><code>obj spec.configuration.zookeeper.nodes</code><ul> <li><code>fn withHost(host)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withSecure(secure)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.defaults</code><ul> <li><code>fn withReplicasUseFQDN(replicasUseFQDN)</code></li> <li><code>obj spec.defaults.distributedDDL</code><ul> <li><code>fn withProfile(profile)</code></li> </ul> </li> <li><code>obj spec.defaults.storageManagement</code><ul> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> </ul> </li> <li><code>obj spec.defaults.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconciling</code><ul> <li><code>fn withConfigMapPropagationTimeout(configMapPropagationTimeout)</code></li> <li><code>fn withPolicy(policy)</code></li> <li><code>obj spec.reconciling.cleanup</code><ul> <li><code>obj spec.reconciling.cleanup.reconcileFailedObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> <li><code>obj spec.reconciling.cleanup.unknownObjects</code><ul> <li><code>fn withConfigMap(configMap)</code></li> <li><code>fn withPvc(pvc)</code></li> <li><code>fn withService(service)</code></li> <li><code>fn withStatefulSet(statefulSet)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates</code><ul> <li><code>fn withHostTemplates(hostTemplates)</code></li> <li><code>fn withHostTemplatesMixin(hostTemplates)</code></li> <li><code>fn withPodTemplates(podTemplates)</code></li> <li><code>fn withPodTemplatesMixin(podTemplates)</code></li> <li><code>fn withServiceTemplates(serviceTemplates)</code></li> <li><code>fn withServiceTemplatesMixin(serviceTemplates)</code></li> <li><code>fn withVolumeClaimTemplates(volumeClaimTemplates)</code></li> <li><code>fn withVolumeClaimTemplatesMixin(volumeClaimTemplates)</code></li> <li><code>obj spec.templates.hostTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withPortDistribution(portDistribution)</code></li> <li><code>fn withPortDistributionMixin(portDistribution)</code></li> <li><code>obj spec.templates.hostTemplates.portDistribution</code><ul> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.hostTemplates.spec</code><ul> <li><code>fn withFiles(files)</code></li> <li><code>fn withFilesMixin(files)</code></li> <li><code>fn withHttpPort(httpPort)</code></li> <li><code>fn withHttpsPort(httpsPort)</code></li> <li><code>fn withInsecure(insecure)</code></li> <li><code>fn withInterserverHTTPPort(interserverHTTPPort)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSecure(secure)</code></li> <li><code>fn withSettings(settings)</code></li> <li><code>fn withSettingsMixin(settings)</code></li> <li><code>fn withTcpPort(tcpPort)</code></li> <li><code>fn withTlsPort(tlsPort)</code></li> <li><code>obj spec.templates.hostTemplates.spec.templates</code><ul> <li><code>fn withClusterServiceTemplate(clusterServiceTemplate)</code></li> <li><code>fn withDataVolumeClaimTemplate(dataVolumeClaimTemplate)</code></li> <li><code>fn withHostTemplate(hostTemplate)</code></li> <li><code>fn withLogVolumeClaimTemplate(logVolumeClaimTemplate)</code></li> <li><code>fn withPodTemplate(podTemplate)</code></li> <li><code>fn withReplicaServiceTemplate(replicaServiceTemplate)</code></li> <li><code>fn withServiceTemplate(serviceTemplate)</code></li> <li><code>fn withShardServiceTemplate(shardServiceTemplate)</code></li> <li><code>fn withVolumeClaimTemplate(volumeClaimTemplate)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.templates.podTemplates</code><ul> <li><code>fn withDistribution(distribution)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withPodDistribution(podDistribution)</code></li> <li><code>fn withPodDistributionMixin(podDistribution)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> <li><code>obj spec.templates.podTemplates.podDistribution</code><ul> <li><code>fn withNumber(number)</code></li> <li><code>fn withScope(scope)</code></li> <li><code>fn withTopologyKey(topologyKey)</code></li> <li><code>fn withType(type)</code></li> </ul> </li> <li><code>obj spec.templates.podTemplates.zone</code><ul> <li><code>fn withKey(key)</code></li> <li><code>fn withValues(values)</code></li> <li><code>fn withValuesMixin(values)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templates.serviceTemplates</code><ul> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> <li><code>obj spec.templates.volumeClaimTemplates</code><ul> <li><code>fn withMetadata(metadata)</code></li> <li><code>fn withMetadataMixin(metadata)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withProvisioner(provisioner)</code></li> <li><code>fn withReclaimPolicy(reclaimPolicy)</code></li> <li><code>fn withSpec(spec)</code></li> <li><code>fn withSpecMixin(spec)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.templating</code><ul> <li><code>fn withChiSelector(chiSelector)</code></li> <li><code>fn withChiSelectorMixin(chiSelector)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> <li><code>obj spec.useTemplates</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withUseType(useType)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fields","title":"Fields","text":""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseInstallationTemplate</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spec","title":"obj spec","text":"<p>\"Specification of the desired behavior of one or more ClickHouse clusters\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithnamespacedomainpattern","title":"fn spec.withNamespaceDomainPattern","text":"<pre><code>withNamespaceDomainPattern(namespaceDomainPattern)\n</code></pre> <p>\"Custom domain pattern which will be used for DNS names of <code>Service</code> or <code>Pod</code>.\\nTypical use scenario - custom cluster domain in Kubernetes cluster\\nExample: %s.svc.my.test\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithrestart","title":"fn spec.withRestart","text":"<pre><code>withRestart(restart)\n</code></pre> <p>\"In case 'RollingUpdate' specified, the operator will always restart ClickHouse pods during reconcile.\\nThis options is used in rare cases when force restart is required and is typically removed after the use in order to avoid unneeded restarts.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithstop","title":"fn spec.withStop","text":"<pre><code>withStop(stop)\n</code></pre> <p>\"Allows to stop all ClickHouse clusters defined in a CHI.\\nWorks as the following:\\n - When <code>stop</code> is <code>1</code> operator sets <code>Replicas: 0</code> in each StatefulSet. Thie leads to having all <code>Pods</code> and <code>Service</code> deleted. All PVCs are kept intact.\\n - When <code>stop</code> is <code>0</code> operator sets <code>Replicas: 1</code> and <code>Pod</code>s and <code>Service</code>s will created again and all retained PVCs will be attached to <code>Pod</code>s.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtaskid","title":"fn spec.withTaskID","text":"<pre><code>withTaskID(taskID)\n</code></pre> <p>\"Allows to define custom taskID for CHI update and watch status of this update execution.\\nDisplayed in all .status.taskID* fields.\\nBy default (if not filled) every update of CHI manifest will generate random taskID\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithtroubleshoot","title":"fn spec.withTroubleshoot","text":"<pre><code>withTroubleshoot(troubleshoot)\n</code></pre> <p>\"Allows to troubleshoot Pods during CrashLoopBack state.\\nThis may happen when wrong configuration applied, in this case <code>clickhouse-server</code> wouldn't start.\\nCommand within ClickHouse container is modified with <code>sleep</code> in order to avoid quick restarts\\nand give time to troubleshoot via CLI.\\nLiveness and Readiness probes are disabled as well.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplates","title":"fn spec.withUseTemplates","text":"<pre><code>withUseTemplates(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specwithusetemplatesmixin","title":"fn spec.withUseTemplatesMixin","text":"<pre><code>withUseTemplatesMixin(useTemplates)\n</code></pre> <p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfiguration","title":"obj spec.configuration","text":"<p>\"allows configure multiple aspects and behavior for <code>clickhouse-server</code> instance and also allows describe multiple <code>clickhouse-server</code> clusters inside one <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclusters","title":"fn spec.configuration.withClusters","text":"<pre><code>withClusters(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithclustersmixin","title":"fn spec.configuration.withClustersMixin","text":"<pre><code>withClustersMixin(clusters)\n</code></pre> <p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfiles","title":"fn spec.configuration.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithfilesmixin","title":"fn spec.configuration.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"allows define content of any setting file inside each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\nevery key in this object is the file name\\nevery value in this object is the file content\\nyou can use <code>!!binary |</code> and base64 for binary files, see details here https://yaml.org/type/binary.html\\neach key could contains prefix like USERS, COMMON, HOST or config.d, users.d, cond.d, wrong prefixes will ignored, subfolders also will ignored\\nMore details: https://github.com/Altinity/clickhouse-operator/blob/master/docs/chi-examples/05-settings-05-files-nested.yaml\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofiles","title":"fn spec.configuration.withProfiles","text":"<pre><code>withProfiles(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithprofilesmixin","title":"fn spec.configuration.withProfilesMixin","text":"<pre><code>withProfilesMixin(profiles)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of settings profile\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-profiles/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationprofiles\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotas","title":"fn spec.configuration.withQuotas","text":"<pre><code>withQuotas(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithquotasmixin","title":"fn spec.configuration.withQuotasMixin","text":"<pre><code>withQuotasMixin(quotas)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure any aspect of resource quotas\\nMore details: https://clickhouse.tech/docs/en/operations/quotas/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationquotas\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettings","title":"fn spec.configuration.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithsettingsmixin","title":"fn spec.configuration.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationsettings\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusers","title":"fn spec.configuration.withUsers","text":"<pre><code>withUsers(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationwithusersmixin","title":"fn spec.configuration.withUsersMixin","text":"<pre><code>withUsersMixin(users)\n</code></pre> <p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/users.d/</code>\\nyou can configure password hashed, authorization restrictions, database level security row filters etc.\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings-users/\\nYour yaml code will convert to XML, see examples https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specconfigurationusers\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusters","title":"obj spec.configuration.clusters","text":"<p>\"describes ClickHouse clusters layout and allows change settings on cluster-level, shard-level and replica-level\\nevery cluster is a set of StatefulSet, one StatefulSet contains only one Pod with <code>clickhouse-server</code>\\nall Pods will rendered in  part of ClickHouse configs, mounted from ConfigMap as <code>/etc/clickhouse-server/config.d/chop-generated-remote_servers.xml</code>\\nClusters will use for Distributed table engine, more details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\nIf <code>cluster</code> contains zookeeper settings (could be inherited from top <code>chi</code> level), when you can create *ReplicatedMergeTree tables\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfiles","title":"fn spec.configuration.clusters.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithfilesmixin","title":"fn spec.configuration.clusters.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> on current cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithinsecure","title":"fn spec.configuration.clusters.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithname","title":"fn spec.configuration.clusters.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"cluster name, used to identify set of ClickHouse servers and wide used during generate names of related Kubernetes resources\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsecure","title":"fn spec.configuration.clusters.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports for cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettings","title":"fn spec.configuration.clusters.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterswithsettingsmixin","title":"fn spec.configuration.clusters.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one cluster during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayout","title":"obj spec.configuration.clusters.layout","text":"<p>\"describe current cluster layout, how much shards in cluster, how much replica in shard\\nallows override settings on each shard and replica separatelly\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicas","title":"fn spec.configuration.clusters.layout.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicascount","title":"fn spec.configuration.clusters.layout.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"how much replicas in each shards for current ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance, every shard contains 1 replica by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithreplicasmixin","title":"fn spec.configuration.clusters.layout.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshards","title":"fn spec.configuration.clusters.layout.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardscount","title":"fn spec.configuration.clusters.layout.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"how much shards for current ClickHouse cluster will run in Kubernetes, each shard contains shared-nothing part of data and contains set of replicas, cluster contains 1 shard by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithshardsmixin","title":"fn spec.configuration.clusters.layout.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutwithtype","title":"fn spec.configuration.clusters.layout.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicas","title":"obj spec.configuration.clusters.layout.replicas","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code> and cluster-level <code>chi.spec.configuration.clusters</code> configuration for each replica and each shard relates to selected replica, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfiles","title":"fn spec.configuration.clusters.layout.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithname","title":"fn spec.configuration.clusters.layout.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettings","title":"fn spec.configuration.clusters.layout.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and will ignore if shard-level <code>chi.spec.configuration.clusters.layout.shards</code> present\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshards","title":"fn spec.configuration.clusters.layout.replicas.withShards","text":"<pre><code>withShards(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardscount","title":"fn spec.configuration.clusters.layout.replicas.withShardsCount","text":"<pre><code>withShardsCount(shardsCount)\n</code></pre> <p>\"optional, count of shards related to current replica, you can override each shard behavior on low-level <code>chi.spec.configuration.clusters.layout.replicas.shards</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicaswithshardsmixin","title":"fn spec.configuration.clusters.layout.replicas.withShardsMixin","text":"<pre><code>withShardsMixin(shards)\n</code></pre> <p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshards","title":"obj spec.configuration.clusters.layout.replicas.shards","text":"<p>\"optional, list of shards related to current replica, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfiles","title":"fn spec.configuration.clusters.layout.replicas.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>, will ignore if <code>chi.spec.configuration.clusters.layout.shards</code> presents\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithhttpsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithname","title":"fn spec.configuration.clusters.layout.replicas.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsecure","title":"fn spec.configuration.clusters.layout.replicas.shards.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettings","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.replicas.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one shard related to current replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and replica-level <code>chi.spec.configuration.clusters.layout.replicas.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtcpport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected shard, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardswithtlsport","title":"fn spec.configuration.clusters.layout.replicas.shards.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicasshardstemplates","title":"obj spec.configuration.clusters.layout.replicas.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicasshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutreplicastemplates","title":"obj spec.configuration.clusters.layout.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshards","title":"obj spec.configuration.clusters.layout.shards","text":"<p>\"optional, allows override top-level <code>chi.spec.configuration</code>, cluster-level <code>chi.spec.configuration.clusters</code> settings for each shard separately, use it only if you fully understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithdefinitiontype","title":"fn spec.configuration.clusters.layout.shards.withDefinitionType","text":"<pre><code>withDefinitionType(definitionType)\n</code></pre> <p>\"DEPRECATED - to be removed soon\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfiles","title":"fn spec.configuration.clusters.layout.shards.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code> and cluster-level <code>chi.spec.configuration.clusters.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithinternalreplication","title":"fn spec.configuration.clusters.layout.shards.withInternalReplication","text":"<pre><code>withInternalReplication(internalReplication)\n</code></pre> <p>\"optional, <code>true</code> by default when <code>chi.spec.configuration.clusters[].layout.ReplicaCount</code> &gt; 1 and 0 otherwise\\nallows setup  setting which will use during insert into tables with <code>Distributed</code> engine for insert only in one live replica and other replicas will download inserted data during replication,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithname","title":"fn spec.configuration.clusters.layout.shards.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default shard name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicas","title":"fn spec.configuration.clusters.layout.shards.withReplicas","text":"<pre><code>withReplicas(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicascount","title":"fn spec.configuration.clusters.layout.shards.withReplicasCount","text":"<pre><code>withReplicasCount(replicasCount)\n</code></pre> <p>\"optional, how much replicas in selected shard for selected ClickHouse cluster will run in Kubernetes, each replica is a separate <code>StatefulSet</code> which contains only one <code>Pod</code> with <code>clickhouse-server</code> instance,\\nshard contains 1 replica by default\\noverride cluster-level <code>chi.spec.configuration.clusters.layout.replicasCount</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithreplicasmixin","title":"fn spec.configuration.clusters.layout.shards.withReplicasMixin","text":"<pre><code>withReplicasMixin(replicas)\n</code></pre> <p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettings","title":"fn spec.configuration.clusters.layout.shards.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> only in one shard during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code> and cluster-level <code>chi.spec.configuration.clusters.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardswithweight","title":"fn spec.configuration.clusters.layout.shards.withWeight","text":"<pre><code>withWeight(weight)\n</code></pre> <p>\"optional, 1 by default, allows setup shard  setting which will use during insert into tables with <code>Distributed</code> engine,\\nwill apply in  inside ConfigMap which will mount in /etc/clickhouse-server/config.d/chop-generated-remote_servers.xml\\nMore details: https://clickhouse.tech/docs/en/engines/table-engines/special/distributed/\\n\""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicas","title":"obj spec.configuration.clusters.layout.shards.replicas","text":"<p>\"optional, allows override behavior for selected replicas from cluster-level <code>chi.spec.configuration.clusters</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfiles","title":"fn spec.configuration.clusters.layout.shards.replicas.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithfilesmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\noverride top-level <code>chi.spec.configuration.files</code>, cluster-level <code>chi.spec.configuration.clusters.files</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.files</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>http</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.httpPort</code>\\nallows connect to <code>clickhouse-server</code> via HTTP protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithhttpsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithinterserverhttpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>interserver</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.interserverHTTPPort</code>\\nallows connect between replicas inside same shard during fetch replicated data parts HTTP protocol\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithname","title":"fn spec.configuration.clusters.layout.shards.replicas.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"optional, by default replica name is generated, but you can override it and setup custom name\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsecure","title":"fn spec.configuration.clusters.layout.shards.replicas.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettings","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithsettingsmixin","title":"fn spec.configuration.clusters.layout.shards.replicas.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in <code>Pod</code> only in one replica during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\noverride top-level <code>chi.spec.configuration.settings</code>, cluster-level <code>chi.spec.configuration.clusters.settings</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.settings</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtcpport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>Pod.spec.containers.ports</code> with name <code>tcp</code> for selected replica, override <code>chi.spec.templates.hostTemplates.spec.tcpPort</code>\\nallows connect to <code>clickhouse-server</code> via TCP Native protocol via kubernetes <code>Service</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicaswithtlsport","title":"fn spec.configuration.clusters.layout.shards.replicas.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardsreplicastemplates","title":"obj spec.configuration.clusters.layout.shards.replicas.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected replica\\noverride top-level <code>chi.spec.configuration.templates</code>, cluster-level <code>chi.spec.configuration.clusters.templates</code> and shard-level <code>chi.spec.configuration.clusters.layout.shards.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardsreplicastemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.replicas.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterslayoutshardstemplates","title":"obj spec.configuration.clusters.layout.shards.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected shard\\noverride top-level <code>chi.spec.configuration.templates</code> and cluster-level <code>chi.spec.configuration.clusters.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithhosttemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithpodtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterslayoutshardstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.layout.shards.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclustersschemapolicy","title":"obj spec.configuration.clusters.schemaPolicy","text":"<p>\"describes how schema is propagated within replicas and shards\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithreplica","title":"fn spec.configuration.clusters.schemaPolicy.withReplica","text":"<pre><code>withReplica(replica)\n</code></pre> <p>\"how schema is propagated within a replica\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclustersschemapolicywithshard","title":"fn spec.configuration.clusters.schemaPolicy.withShard","text":"<pre><code>withShard(shard)\n</code></pre> <p>\"how schema is propagated between shards\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecret","title":"obj spec.configuration.clusters.secret","text":"<p>\"optional, shared secret value to secure cluster communications\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithauto","title":"fn spec.configuration.clusters.secret.withAuto","text":"<pre><code>withAuto(auto)\n</code></pre> <p>\"Auto-generate shared secret value to secure cluster communications\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretwithvalue","title":"fn spec.configuration.clusters.secret.withValue","text":"<pre><code>withValue(value)\n</code></pre> <p>\"Cluster shared secret value in plain text\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefrom","title":"obj spec.configuration.clusters.secret.valueFrom","text":"<p>\"Cluster shared secret source\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterssecretvaluefromsecretkeyref","title":"obj spec.configuration.clusters.secret.valueFrom.secretKeyRef","text":"<p>\"Selects a key of a secret in the clickhouse installation namespace.\\nShould not be used if value is not empty.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithkey","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"The key of the secret to select from. Must be a valid secret key.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithname","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of the referent. More info:\\nhttps://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterssecretvaluefromsecretkeyrefwithoptional","title":"fn spec.configuration.clusters.secret.valueFrom.secretKeyRef.withOptional","text":"<pre><code>withOptional(optional)\n</code></pre> <p>\"Specify whether the Secret or its key must be defined\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterstemplates","title":"obj spec.configuration.clusters.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to selected cluster\\noverride top-level <code>chi.spec.configuration.templates</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithclusterservicetemplate","title":"fn spec.configuration.clusters.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithdatavolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithhosttemplate","title":"fn spec.configuration.clusters.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithlogvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithpodtemplate","title":"fn spec.configuration.clusters.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithreplicaservicetemplate","title":"fn spec.configuration.clusters.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithservicetemplate","title":"fn spec.configuration.clusters.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithshardservicetemplate","title":"fn spec.configuration.clusters.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterstemplateswithvolumeclaimtemplate","title":"fn spec.configuration.clusters.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeeper","title":"obj spec.configuration.clusters.zookeeper","text":"<p>\"optional, allows configure .. section in each <code>Pod</code> only in current ClickHouse cluster, during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\noverride top-level <code>chi.spec.configuration.zookeeper</code> settings\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithidentity","title":"fn spec.configuration.clusters.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodes","title":"fn spec.configuration.clusters.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithnodesmixin","title":"fn spec.configuration.clusters.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithoperation_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithroot","title":"fn spec.configuration.clusters.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeeperwithsession_timeout_ms","title":"fn spec.configuration.clusters.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationclusterszookeepernodes","title":"obj spec.configuration.clusters.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithhost","title":"fn spec.configuration.clusters.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithport","title":"fn spec.configuration.clusters.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationclusterszookeepernodeswithsecure","title":"fn spec.configuration.clusters.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeeper","title":"obj spec.configuration.zookeeper","text":"<p>\"allows configure .. section in each <code>Pod</code> during generate <code>ConfigMap</code> which will mounted in <code>/etc/clickhouse-server/config.d/</code>\\n<code>clickhouse-operator</code> itself doesn't manage Zookeeper, please install Zookeeper separatelly look examples on https://github.com/Altinity/clickhouse-operator/tree/master/deploy/zookeeper/\\ncurrently, zookeeper (or clickhouse-keeper replacement) used for *ReplicatedMergeTree table engines and for <code>distributed_ddl</code>\\nMore details: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings_zookeeper\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithidentity","title":"fn spec.configuration.zookeeper.withIdentity","text":"<pre><code>withIdentity(identity)\n</code></pre> <p>\"optional access credentials string with <code>user:password</code> format used when use digest authorization in Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodes","title":"fn spec.configuration.zookeeper.withNodes","text":"<pre><code>withNodes(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithnodesmixin","title":"fn spec.configuration.zookeeper.withNodesMixin","text":"<pre><code>withNodesMixin(nodes)\n</code></pre> <p>\"describe every available zookeeper cluster node for interaction\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithoperation_timeout_ms","title":"fn spec.configuration.zookeeper.withOperation_timeout_ms","text":"<pre><code>withOperation_timeout_ms(operation_timeout_ms)\n</code></pre> <p>\"one operation timeout during Zookeeper transactions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithroot","title":"fn spec.configuration.zookeeper.withRoot","text":"<pre><code>withRoot(root)\n</code></pre> <p>\"optional root znode path inside zookeeper to store ClickHouse related data (replication queue or distributed DDL)\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeeperwithsession_timeout_ms","title":"fn spec.configuration.zookeeper.withSession_timeout_ms","text":"<pre><code>withSession_timeout_ms(session_timeout_ms)\n</code></pre> <p>\"session timeout during connect to Zookeeper\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specconfigurationzookeepernodes","title":"obj spec.configuration.zookeeper.nodes","text":"<p>\"describe every available zookeeper cluster node for interaction\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithhost","title":"fn spec.configuration.zookeeper.nodes.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"dns name or ip address for Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithport","title":"fn spec.configuration.zookeeper.nodes.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"TCP port which used to connect to Zookeeper node\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specconfigurationzookeepernodeswithsecure","title":"fn spec.configuration.zookeeper.nodes.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"if a secure connection to Zookeeper is required\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaults","title":"obj spec.defaults","text":"<p>\"define default behavior for whole ClickHouseInstallation, some behavior can be re-define on cluster, shard and replica level\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#specdefaults\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultswithreplicasusefqdn","title":"fn spec.defaults.withReplicasUseFQDN","text":"<pre><code>withReplicasUseFQDN(replicasUseFQDN)\n</code></pre> <p>\"define should replicas be specified by FQDN in <code>&lt;host&gt;&lt;/host&gt;</code>.\\nIn case of \\\"no\\\" will use short hostname and clickhouse-server will use kubernetes default suffixes for DNS lookup\\n\\\"yes\\\" by default\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsdistributedddl","title":"obj spec.defaults.distributedDDL","text":"<p>\"allows change <code>&lt;yandex&gt;&lt;distributed_ddl&gt;&lt;/distributed_ddl&gt;&lt;/yandex&gt;</code> settings\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server-settings-distributed_ddl\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsdistributedddlwithprofile","title":"fn spec.defaults.distributedDDL.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"Settings from this profile will be used to execute DDL queries\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultsstoragemanagement","title":"obj spec.defaults.storageManagement","text":"<p>\"default storage management options\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithprovisioner","title":"fn spec.defaults.storageManagement.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultsstoragemanagementwithreclaimpolicy","title":"fn spec.defaults.storageManagement.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specdefaultstemplates","title":"obj spec.defaults.templates","text":"<p>\"optional, configuration of the templates names which will use for generate Kubernetes resources according to one or more ClickHouse clusters described in current ClickHouseInstallation (chi) resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithclusterservicetemplate","title":"fn spec.defaults.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithdatavolumeclaimtemplate","title":"fn spec.defaults.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithhosttemplate","title":"fn spec.defaults.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithlogvolumeclaimtemplate","title":"fn spec.defaults.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithpodtemplate","title":"fn spec.defaults.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithreplicaservicetemplate","title":"fn spec.defaults.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithservicetemplate","title":"fn spec.defaults.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithshardservicetemplate","title":"fn spec.defaults.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specdefaultstemplateswithvolumeclaimtemplate","title":"fn spec.defaults.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconciling","title":"obj spec.reconciling","text":"<p>\"Optional, allows tuning reconciling cycle for ClickhouseInstallation from clickhouse-operator side\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithconfigmappropagationtimeout","title":"fn spec.reconciling.withConfigMapPropagationTimeout","text":"<pre><code>withConfigMapPropagationTimeout(configMapPropagationTimeout)\n</code></pre> <p>\"Timeout in seconds for <code>clickhouse-operator</code> to wait for modified <code>ConfigMap</code> to propagate into the <code>Pod</code>\\nMore details: https://kubernetes.io/docs/concepts/configuration/configmap/#mounted-configmaps-are-updated-automatically\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingwithpolicy","title":"fn spec.reconciling.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"DISCUSSED TO BE DEPRECATED\\nSyntax sugar\\nOverrides all three 'reconcile.host.wait.{exclude, queries, include}' values from the operator's config\\nPossible values:\\n - wait - should wait to exclude host, complete queries and include host back into the cluster\\n - nowait - should NOT wait to exclude host, complete queries and include host back into the cluster\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanup","title":"obj spec.reconciling.cleanup","text":"<p>\"Optional, defines behavior for cleanup Kubernetes resources during reconcile cycle\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupreconcilefailedobjects","title":"obj spec.reconciling.cleanup.reconcileFailedObjects","text":"<p>\"Describes what clickhouse-operator should do with Kubernetes resources which are failed during reconcile.\\nDefault behavior is <code>Retain</code>\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithconfigmap","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"Behavior policy for failed ConfigMap, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithpvc","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"Behavior policy for failed PVC, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithservice","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"Behavior policy for failed Service, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupreconcilefailedobjectswithstatefulset","title":"fn spec.reconciling.cleanup.reconcileFailedObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"Behavior policy for failed StatefulSet, <code>Retain</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specreconcilingcleanupunknownobjects","title":"obj spec.reconciling.cleanup.unknownObjects","text":"<p>\"Describes what clickhouse-operator should do with found Kubernetes resources which should be managed by clickhouse-operator,\\nbut do not have <code>ownerReference</code> to any currently managed <code>ClickHouseInstallation</code> resource.\\nDefault behavior is <code>Delete</code>\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithconfigmap","title":"fn spec.reconciling.cleanup.unknownObjects.withConfigMap","text":"<pre><code>withConfigMap(configMap)\n</code></pre> <p>\"Behavior policy for unknown ConfigMap, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithpvc","title":"fn spec.reconciling.cleanup.unknownObjects.withPvc","text":"<pre><code>withPvc(pvc)\n</code></pre> <p>\"Behavior policy for unknown PVC, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithservice","title":"fn spec.reconciling.cleanup.unknownObjects.withService","text":"<pre><code>withService(service)\n</code></pre> <p>\"Behavior policy for unknown Service, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specreconcilingcleanupunknownobjectswithstatefulset","title":"fn spec.reconciling.cleanup.unknownObjects.withStatefulSet","text":"<pre><code>withStatefulSet(statefulSet)\n</code></pre> <p>\"Behavior policy for unknown StatefulSet, <code>Delete</code> by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplates","title":"obj spec.templates","text":"<p>\"allows define templates which will use for render Kubernetes resources like StatefulSet, ConfigMap, Service, PVC, by default, clickhouse-operator have own templates, but you can override it\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplates","title":"fn spec.templates.withHostTemplates","text":"<pre><code>withHostTemplates(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithhosttemplatesmixin","title":"fn spec.templates.withHostTemplatesMixin","text":"<pre><code>withHostTemplatesMixin(hostTemplates)\n</code></pre> <p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplates","title":"fn spec.templates.withPodTemplates","text":"<pre><code>withPodTemplates(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithpodtemplatesmixin","title":"fn spec.templates.withPodTemplatesMixin","text":"<pre><code>withPodTemplatesMixin(podTemplates)\n</code></pre> <p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplates","title":"fn spec.templates.withServiceTemplates","text":"<pre><code>withServiceTemplates(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithservicetemplatesmixin","title":"fn spec.templates.withServiceTemplatesMixin","text":"<pre><code>withServiceTemplatesMixin(serviceTemplates)\n</code></pre> <p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplates","title":"fn spec.templates.withVolumeClaimTemplates","text":"<pre><code>withVolumeClaimTemplates(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateswithvolumeclaimtemplatesmixin","title":"fn spec.templates.withVolumeClaimTemplatesMixin","text":"<pre><code>withVolumeClaimTemplatesMixin(volumeClaimTemplates)\n</code></pre> <p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplates","title":"obj spec.templates.hostTemplates","text":"<p>\"hostTemplate will use during apply to generate <code>clickhose-server</code> config files\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithname","title":"fn spec.templates.hostTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.hostTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.hostTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.hostTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.hostTemplate</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistribution","title":"fn spec.templates.hostTemplates.withPortDistribution","text":"<pre><code>withPortDistribution(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplateswithportdistributionmixin","title":"fn spec.templates.hostTemplates.withPortDistributionMixin","text":"<pre><code>withPortDistributionMixin(portDistribution)\n</code></pre> <p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesportdistribution","title":"obj spec.templates.hostTemplates.portDistribution","text":"<p>\"define how will distribute numeric values of named ports in <code>Pod.spec.containers.ports</code> and clickhouse-server configs\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesportdistributionwithtype","title":"fn spec.templates.hostTemplates.portDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"type of distribution, when <code>Unspecified</code> (default value) then all listen ports on clickhouse-server configuration in all Pods will have the same value, when <code>ClusterScopeIndex</code> then ports will increment to offset from base value depends on shard and replica index inside cluster with combination of <code>chi.spec.templates.podTemlates.spec.HostNetwork</code> it allows setup ClickHouse cluster inside Kubernetes and provide access via external network bypass Kubernetes internal network\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspec","title":"obj spec.templates.hostTemplates.spec","text":""},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfiles","title":"fn spec.templates.hostTemplates.spec.withFiles","text":"<pre><code>withFiles(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithfilesmixin","title":"fn spec.templates.hostTemplates.spec.withFilesMixin","text":"<pre><code>withFilesMixin(files)\n</code></pre> <p>\"optional, allows define content of any setting file inside each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/config.d/</code> or <code>/etc/clickhouse-server/conf.d/</code> or <code>/etc/clickhouse-server/users.d/</code>\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpport","title":"fn spec.templates.hostTemplates.spec.withHttpPort","text":"<pre><code>withHttpPort(httpPort)\n</code></pre> <p>\"optional, setup <code>http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=http]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/http/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithhttpsport","title":"fn spec.templates.hostTemplates.spec.withHttpsPort","text":"<pre><code>withHttpsPort(httpsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinsecure","title":"fn spec.templates.hostTemplates.spec.withInsecure","text":"<pre><code>withInsecure(insecure)\n</code></pre> <p>\"optional, open insecure ports for cluster, defaults to \\\"yes\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithinterserverhttpport","title":"fn spec.templates.hostTemplates.spec.withInterserverHTTPPort","text":"<pre><code>withInterserverHTTPPort(interserverHTTPPort)\n</code></pre> <p>\"optional, setup <code>interserver_http_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=interserver]</code>\\nMore info: https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#interserver-http-port\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithname","title":"fn spec.templates.hostTemplates.spec.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"by default, hostname will generate, but this allows define custom name for each <code>clickhuse-server</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsecure","title":"fn spec.templates.hostTemplates.spec.withSecure","text":"<pre><code>withSecure(secure)\n</code></pre> <p>\"optional, open secure ports\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettings","title":"fn spec.templates.hostTemplates.spec.withSettings","text":"<pre><code>withSettings(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithsettingsmixin","title":"fn spec.templates.hostTemplates.spec.withSettingsMixin","text":"<pre><code>withSettingsMixin(settings)\n</code></pre> <p>\"optional, allows configure <code>clickhouse-server</code> settings inside ... tag in each <code>Pod</code> where this template will apply during generate <code>ConfigMap</code> which will mount in <code>/etc/clickhouse-server/conf.d/</code>\\nMore details: https://clickhouse.tech/docs/en/operations/settings/settings/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtcpport","title":"fn spec.templates.hostTemplates.spec.withTcpPort","text":"<pre><code>withTcpPort(tcpPort)\n</code></pre> <p>\"optional, setup <code>tcp_port</code> inside <code>clickhouse-server</code> settings for each Pod where current template will apply\\nif specified, should have equal value with <code>chi.spec.templates.podTemplates.spec.containers.ports[name=tcp]</code>\\nMore info: https://clickhouse.tech/docs/en/interfaces/tcp/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspecwithtlsport","title":"fn spec.templates.hostTemplates.spec.withTlsPort","text":"<pre><code>withTlsPort(tlsPort)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplateshosttemplatesspectemplates","title":"obj spec.templates.hostTemplates.spec.templates","text":"<p>\"be careful, this part of CRD allows override template inside template, don't use it if you don't understand what you do\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithclusterservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withClusterServiceTemplate","text":"<pre><code>withClusterServiceTemplate(clusterServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithdatavolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withDataVolumeClaimTemplate","text":"<pre><code>withDataVolumeClaimTemplate(dataVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse data directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithhosttemplate","title":"fn spec.templates.hostTemplates.spec.templates.withHostTemplate","text":"<pre><code>withHostTemplate(hostTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.hostTemplates, which will apply to configure every <code>clickhouse-server</code> instance during render ConfigMap resources which will mount into <code>Pod</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithlogvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withLogVolumeClaimTemplate","text":"<pre><code>withLogVolumeClaimTemplate(logVolumeClaimTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.volumeClaimTemplates, allows customization each <code>PVC</code> which will mount for clickhouse log directory in each <code>Pod</code> during render and reconcile every StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithpodtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withPodTemplate","text":"<pre><code>withPodTemplate(podTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.podTemplates, allows customization each <code>Pod</code> resource during render and reconcile each StatefulSet.spec resource described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithreplicaservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withReplicaServiceTemplate","text":"<pre><code>withReplicaServiceTemplate(replicaServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each replica inside each shard inside each clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withServiceTemplate","text":"<pre><code>withServiceTemplate(serviceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for one <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover all clusters in whole <code>chi</code> resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithshardservicetemplate","title":"fn spec.templates.hostTemplates.spec.templates.withShardServiceTemplate","text":"<pre><code>withShardServiceTemplate(shardServiceTemplate)\n</code></pre> <p>\"optional, template name from chi.spec.templates.serviceTemplates, allows customization for each <code>Service</code> resource which will created by <code>clickhouse-operator</code> which cover each shard inside clickhouse cluster described in <code>chi.spec.configuration.clusters</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplateshosttemplatesspectemplateswithvolumeclaimtemplate","title":"fn spec.templates.hostTemplates.spec.templates.withVolumeClaimTemplate","text":"<pre><code>withVolumeClaimTemplate(volumeClaimTemplate)\n</code></pre> <p>\"DEPRECATED! VolumeClaimTemplate is deprecated in favor of DataVolumeClaimTemplate and LogVolumeClaimTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplates","title":"obj spec.templates.podTemplates","text":"<p>\"podTemplate will use during render <code>Pod</code> inside <code>StatefulSet.spec</code> and allows define rendered <code>Pod.spec</code>, pod scheduling distribution and pod zone\\nMore information: https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatespodtemplates\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithdistribution","title":"fn spec.templates.podTemplates.withDistribution","text":"<pre><code>withDistribution(distribution)\n</code></pre> <p>\"DEPRECATED, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithgeneratename","title":"fn spec.templates.podTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Pod</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadata","title":"fn spec.templates.podTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithmetadatamixin","title":"fn spec.templates.podTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Pod\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithname","title":"fn spec.templates.podTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside top-level <code>chi.spec.defaults.templates.podTemplate</code>, cluster-level <code>chi.spec.configuration.clusters.templates.podTemplate</code>, shard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.podTemplate</code>, replica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.podTemplate</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistribution","title":"fn spec.templates.podTemplates.withPodDistribution","text":"<pre><code>withPodDistribution(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithpoddistributionmixin","title":"fn spec.templates.podTemplates.withPodDistributionMixin","text":"<pre><code>withPodDistributionMixin(podDistribution)\n</code></pre> <p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspec","title":"fn spec.templates.podTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateswithspecmixin","title":"fn spec.templates.podTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define whole Pod.spec inside StaefulSet.spec, look to https://kubernetes.io/docs/concepts/workloads/pods/#pod-templates for details\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplatespoddistribution","title":"obj spec.templates.podTemplates.podDistribution","text":"<p>\"define ClickHouse Pod distribution policy between Kubernetes Nodes inside Shard, Replica, Namespace, CHI, another ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithnumber","title":"fn spec.templates.podTemplates.podDistribution.withNumber","text":"<pre><code>withNumber(number)\n</code></pre> <p>\"define, how much ClickHouse Pods could be inside selected scope with selected distribution type\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithscope","title":"fn spec.templates.podTemplates.podDistribution.withScope","text":"<pre><code>withScope(scope)\n</code></pre> <p>\"scope for apply each podDistribution\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtopologykey","title":"fn spec.templates.podTemplates.podDistribution.withTopologyKey","text":"<pre><code>withTopologyKey(topologyKey)\n</code></pre> <p>\"use for inter-pod affinity look to <code>pod.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</code>, More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplatespoddistributionwithtype","title":"fn spec.templates.podTemplates.podDistribution.withType","text":"<pre><code>withType(type)\n</code></pre> <p>\"you can define multiple affinity policy types\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatespodtemplateszone","title":"obj spec.templates.podTemplates.zone","text":"<p>\"allows define custom zone name and will separate ClickHouse <code>Pods</code> between nodes, shortcut for <code>chi.spec.templates.podTemplates.spec.affinity.podAntiAffinity</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithkey","title":"fn spec.templates.podTemplates.zone.withKey","text":"<pre><code>withKey(key)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>name</code> equal <code>key</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvalues","title":"fn spec.templates.podTemplates.zone.withValues","text":"<pre><code>withValues(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatespodtemplateszonewithvaluesmixin","title":"fn spec.templates.podTemplates.zone.withValuesMixin","text":"<pre><code>withValuesMixin(values)\n</code></pre> <p>\"optional, if defined, allows select kubernetes nodes by label with <code>value</code> in <code>values</code>\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesservicetemplates","title":"obj spec.templates.serviceTemplates","text":"<p>\"allows define template for rendering <code>Service</code> which would get endpoint from Pods which scoped chi-wide, cluster-wide, shard-wide, replica-wide level\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithgeneratename","title":"fn spec.templates.serviceTemplates.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"allows define format for generated <code>Service</code> name, look to https://github.com/Altinity/clickhouse-operator/blob/master/docs/custom_resource_explained.md#spectemplatesservicetemplates for details about aviailable template variables\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadata","title":"fn spec.templates.serviceTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithmetadatamixin","title":"fn spec.templates.serviceTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows pass standard object's metadata from template to Service\\nCould be use for define specificly for Cloud Provider metadata which impact to behavior of service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithname","title":"fn spec.templates.serviceTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\nchi-level <code>chi.spec.defaults.templates.serviceTemplate</code>\\ncluster-level <code>chi.spec.configuration.clusters.templates.clusterServiceTemplate</code>\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.shardServiceTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.replicaServiceTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.replicas.replicaServiceTemplate</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspec","title":"fn spec.templates.serviceTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesservicetemplateswithspecmixin","title":"fn spec.templates.serviceTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"describe behavior of generated Service\\nMore info: https://kubernetes.io/docs/concepts/services-networking/service/\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplatesvolumeclaimtemplates","title":"obj spec.templates.volumeClaimTemplates","text":"<p>\"allows define template for rendering <code>PVC</code> kubernetes resource, which would use inside <code>Pod</code> for mount clickhouse <code>data</code>, clickhouse <code>logs</code> or something else\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadata","title":"fn spec.templates.volumeClaimTemplates.withMetadata","text":"<pre><code>withMetadata(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithmetadatamixin","title":"fn spec.templates.volumeClaimTemplates.withMetadataMixin","text":"<pre><code>withMetadataMixin(metadata)\n</code></pre> <p>\"allows to pass standard object's metadata from template to PVC\\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithname","title":"fn spec.templates.volumeClaimTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"template name, could use to link inside\\ntop-level <code>chi.spec.defaults.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.defaults.templates.logVolumeClaimTemplate</code>,\\ncluster-level <code>chi.spec.configuration.clusters.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.templates.logVolumeClaimTemplate</code>,\\nshard-level <code>chi.spec.configuration.clusters.layout.shards.temlates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.shards.temlates.logVolumeClaimTemplate</code>\\nreplica-level <code>chi.spec.configuration.clusters.layout.replicas.templates.dataVolumeClaimTemplate</code> or <code>chi.spec.configuration.clusters.layout.replicas.templates.logVolumeClaimTemplate</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithprovisioner","title":"fn spec.templates.volumeClaimTemplates.withProvisioner","text":"<pre><code>withProvisioner(provisioner)\n</code></pre> <p>\"defines <code>PVC</code> provisioner - be it StatefulSet or the Operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithreclaimpolicy","title":"fn spec.templates.volumeClaimTemplates.withReclaimPolicy","text":"<pre><code>withReclaimPolicy(reclaimPolicy)\n</code></pre> <p>\"defines behavior of <code>PVC</code> deletion.\\n<code>Delete</code> by default, if <code>Retain</code> specified then <code>PVC</code> will be kept when deleting StatefulSet\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspec","title":"fn spec.templates.volumeClaimTemplates.withSpec","text":"<pre><code>withSpec(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatesvolumeclaimtemplateswithspecmixin","title":"fn spec.templates.volumeClaimTemplates.withSpecMixin","text":"<pre><code>withSpecMixin(spec)\n</code></pre> <p>\"allows define all aspects of <code>PVC</code> resource\\nMore info: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-spectemplating","title":"obj spec.templating","text":"<p>\"Optional, applicable inside ClickHouseInstallationTemplate only.\\nDefines current ClickHouseInstallationTemplate application options to target ClickHouseInstallation(s).\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselector","title":"fn spec.templating.withChiSelector","text":"<pre><code>withChiSelector(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithchiselectormixin","title":"fn spec.templating.withChiSelectorMixin","text":"<pre><code>withChiSelectorMixin(chiSelector)\n</code></pre> <p>\"Optional, defines selector for ClickHouseInstallation(s) to be templated with ClickhouseInstallationTemplate\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-spectemplatingwithpolicy","title":"fn spec.templating.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"When defined as <code>auto</code> inside ClickhouseInstallationTemplate, this ClickhouseInstallationTemplate\\nwill be auto-added into ClickHouseInstallation, selectable by <code>chiSelector</code>.\\nDefault value is <code>manual</code>, meaning ClickHouseInstallation should request this ClickhouseInstallationTemplate explicitly.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#obj-specusetemplates","title":"obj spec.useTemplates","text":"<p>\"list of <code>ClickHouseInstallationTemplate</code> (chit) resource names which will merge with current <code>Chi</code> manifest during render Kubernetes resources to create related ClickHouse clusters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithname","title":"fn spec.useTemplates.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"name of <code>ClickHouseInstallationTemplate</code> (chit) resource\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithnamespace","title":"fn spec.useTemplates.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Kubernetes namespace where need search <code>chit</code> resource, depending on <code>watchNamespaces</code> settings in <code>clichouse-operator</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseInstallationTemplate/#fn-specusetemplateswithusetype","title":"fn spec.useTemplates.withUseType","text":"<pre><code>withUseType(useType)\n</code></pre> <p>\"optional, current strategy is only merge, and current <code>chi</code> settings have more priority than merged template <code>chit</code>\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/","title":"clickhouse.v1.clickHouseOperatorConfiguration","text":"<p>\"allows customize <code>clickhouse-operator</code> settings, need restart clickhouse-operator pod after adding, more details https://github.com/Altinity/clickhouse-operator/blob/master/docs/operator_configuration.md\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#index","title":"Index","text":"<ul> <li><code>fn new(name)</code></li> <li><code>obj metadata</code><ul> <li><code>fn withAnnotations(annotations)</code></li> <li><code>fn withAnnotationsMixin(annotations)</code></li> <li><code>fn withClusterName(clusterName)</code></li> <li><code>fn withCreationTimestamp(creationTimestamp)</code></li> <li><code>fn withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)</code></li> <li><code>fn withDeletionTimestamp(deletionTimestamp)</code></li> <li><code>fn withFinalizers(finalizers)</code></li> <li><code>fn withFinalizersMixin(finalizers)</code></li> <li><code>fn withGenerateName(generateName)</code></li> <li><code>fn withGeneration(generation)</code></li> <li><code>fn withLabels(labels)</code></li> <li><code>fn withLabelsMixin(labels)</code></li> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> <li><code>fn withOwnerReferences(ownerReferences)</code></li> <li><code>fn withOwnerReferencesMixin(ownerReferences)</code></li> <li><code>fn withResourceVersion(resourceVersion)</code></li> <li><code>fn withSelfLink(selfLink)</code></li> <li><code>fn withUid(uid)</code></li> </ul> </li> <li><code>obj spec</code><ul> <li><code>obj spec.annotation</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.clickhouse</code><ul> <li><code>obj spec.clickhouse.access</code><ul> <li><code>fn withPassword(password)</code></li> <li><code>fn withPort(port)</code></li> <li><code>fn withRootCA(rootCA)</code></li> <li><code>fn withScheme(scheme)</code></li> <li><code>fn withUsername(username)</code></li> <li><code>obj spec.clickhouse.access.secret</code><ul> <li><code>fn withName(name)</code></li> <li><code>fn withNamespace(namespace)</code></li> </ul> </li> <li><code>obj spec.clickhouse.access.timeouts</code><ul> <li><code>fn withConnect(connect)</code></li> <li><code>fn withQuery(query)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration</code><ul> <li><code>obj spec.clickhouse.configuration.file</code><ul> <li><code>obj spec.clickhouse.configuration.file.path</code><ul> <li><code>fn withCommon(common)</code></li> <li><code>fn withHost(host)</code></li> <li><code>fn withUser(user)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configuration.network</code><ul> <li><code>fn withHostRegexpTemplate(hostRegexpTemplate)</code></li> </ul> </li> <li><code>obj spec.clickhouse.configuration.user</code><ul> <li><code>obj spec.clickhouse.configuration.user.default</code><ul> <li><code>fn withNetworksIP(networksIP)</code></li> <li><code>fn withNetworksIPMixin(networksIP)</code></li> <li><code>fn withPassword(password)</code></li> <li><code>fn withProfile(profile)</code></li> <li><code>fn withQuota(quota)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.configurationRestartPolicy</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>obj spec.clickhouse.configurationRestartPolicy.rules</code><ul> <li><code>fn withRules(rules)</code></li> <li><code>fn withRulesMixin(rules)</code></li> <li><code>fn withVersion(version)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.clickhouse.metrics</code><ul> <li><code>obj spec.clickhouse.metrics.timeouts</code><ul> <li><code>fn withCollect(collect)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.label</code><ul> <li><code>fn withAppendScope(appendScope)</code></li> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withExcludeMixin(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withIncludeMixin(include)</code></li> </ul> </li> <li><code>obj spec.logger</code><ul> <li><code>fn withAlsologtostderr(alsologtostderr)</code></li> <li><code>fn withLog_backtrace_at(log_backtrace_at)</code></li> <li><code>fn withLogtostderr(logtostderr)</code></li> <li><code>fn withStderrthreshold(stderrthreshold)</code></li> <li><code>fn withV(v)</code></li> <li><code>fn withVmodule(vmodule)</code></li> </ul> </li> <li><code>obj spec.pod</code><ul> <li><code>fn withTerminationGracePeriod(terminationGracePeriod)</code></li> </ul> </li> <li><code>obj spec.reconcile</code><ul> <li><code>obj spec.reconcile.host</code><ul> <li><code>obj spec.reconcile.host.wait</code><ul> <li><code>fn withExclude(exclude)</code></li> <li><code>fn withInclude(include)</code></li> <li><code>fn withQueries(queries)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.reconcile.runtime</code><ul> <li><code>fn withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)</code></li> <li><code>fn withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)</code></li> <li><code>fn withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet</code><ul> <li><code>obj spec.reconcile.statefulSet.create</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> </ul> </li> <li><code>obj spec.reconcile.statefulSet.update</code><ul> <li><code>fn withOnFailure(onFailure)</code></li> <li><code>fn withPollInterval(pollInterval)</code></li> <li><code>fn withTimeout(timeout)</code></li> </ul> </li> </ul> </li> </ul> </li> <li><code>obj spec.statefulSet</code><ul> <li><code>fn withRevisionHistoryLimit(revisionHistoryLimit)</code></li> </ul> </li> <li><code>obj spec.template</code><ul> <li><code>obj spec.template.chi</code><ul> <li><code>fn withPath(path)</code></li> <li><code>fn withPolicy(policy)</code></li> </ul> </li> </ul> </li> <li><code>obj spec.watch</code><ul> <li><code>fn withNamespaces(namespaces)</code></li> <li><code>fn withNamespacesMixin(namespaces)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fields","title":"Fields","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-new","title":"fn new","text":"<pre><code>new(name)\n</code></pre> <p>new returns an instance of ClickHouseOperatorConfiguration</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-metadata","title":"obj metadata","text":"<p>\"ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotations","title":"fn metadata.withAnnotations","text":"<pre><code>withAnnotations(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithannotationsmixin","title":"fn metadata.withAnnotationsMixin","text":"<pre><code>withAnnotationsMixin(annotations)\n</code></pre> <p>\"Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: http://kubernetes.io/docs/user-guide/annotations\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithclustername","title":"fn metadata.withClusterName","text":"<pre><code>withClusterName(clusterName)\n</code></pre> <p>\"The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithcreationtimestamp","title":"fn metadata.withCreationTimestamp","text":"<pre><code>withCreationTimestamp(creationTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiongraceperiodseconds","title":"fn metadata.withDeletionGracePeriodSeconds","text":"<pre><code>withDeletionGracePeriodSeconds(deletionGracePeriodSeconds)\n</code></pre> <p>\"Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithdeletiontimestamp","title":"fn metadata.withDeletionTimestamp","text":"<pre><code>withDeletionTimestamp(deletionTimestamp)\n</code></pre> <p>\"Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON.  Wrappers are provided for many of the factory methods that the time package offers.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizers","title":"fn metadata.withFinalizers","text":"<pre><code>withFinalizers(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithfinalizersmixin","title":"fn metadata.withFinalizersMixin","text":"<pre><code>withFinalizersMixin(finalizers)\n</code></pre> <p>\"Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order.  Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneratename","title":"fn metadata.withGenerateName","text":"<pre><code>withGenerateName(generateName)\n</code></pre> <p>\"GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.\\n\\nIf this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).\\n\\nApplied only if Name is not specified. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithgeneration","title":"fn metadata.withGeneration","text":"<pre><code>withGeneration(generation)\n</code></pre> <p>\"A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabels","title":"fn metadata.withLabels","text":"<pre><code>withLabels(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithlabelsmixin","title":"fn metadata.withLabelsMixin","text":"<pre><code>withLabelsMixin(labels)\n</code></pre> <p>\"Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithname","title":"fn metadata.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/identifiers#names\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithnamespace","title":"fn metadata.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the \\\"default\\\" namespace, but \\\"default\\\" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.\\n\\nMust be a DNS_LABEL. Cannot be updated. More info: http://kubernetes.io/docs/user-guide/namespaces\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferences","title":"fn metadata.withOwnerReferences","text":"<pre><code>withOwnerReferences(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithownerreferencesmixin","title":"fn metadata.withOwnerReferencesMixin","text":"<pre><code>withOwnerReferencesMixin(ownerReferences)\n</code></pre> <p>\"List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithresourceversion","title":"fn metadata.withResourceVersion","text":"<pre><code>withResourceVersion(resourceVersion)\n</code></pre> <p>\"An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.\\n\\nPopulated by the system. Read-only. Value must be treated as opaque by clients and . More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithselflink","title":"fn metadata.withSelfLink","text":"<pre><code>withSelfLink(selfLink)\n</code></pre> <p>\"SelfLink is a URL representing this object. Populated by the system. Read-only.\\n\\nDEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-metadatawithuid","title":"fn metadata.withUid","text":"<pre><code>withUid(uid)\n</code></pre> <p>\"UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.\\n\\nPopulated by the system. Read-only. More info: http://kubernetes.io/docs/user-guide/identifiers#uids\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spec","title":"obj spec","text":"<p>\"Allows to define settings of the clickhouse-operator.\\nMore info: https://github.com/Altinity/clickhouse-operator/blob/master/config/config.yaml\\nCheck into etc-clickhouse-operator* ConfigMaps if you need more control\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specannotation","title":"obj spec.annotation","text":"<p>\"defines which metadata.annotations items will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexclude","title":"fn spec.annotation.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithexcludemixin","title":"fn spec.annotation.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\nexclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithinclude","title":"fn spec.annotation.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specannotationwithincludemixin","title":"fn spec.annotation.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.annotations</code> section to child objects' <code>metadata.annotations</code>,\\ninclude annotations with names from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouse","title":"obj spec.clickhouse","text":"<p>\"Clickhouse related parameters used by clickhouse-operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccess","title":"obj spec.clickhouse.access","text":"<p>\"parameters which use for connect to clickhouse from clickhouse-operator deployment\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithpassword","title":"fn spec.clickhouse.access.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse password to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithport","title":"fn spec.clickhouse.access.withPort","text":"<pre><code>withPort(port)\n</code></pre> <p>\"Port to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithrootca","title":"fn spec.clickhouse.access.withRootCA","text":"<pre><code>withRootCA(rootCA)\n</code></pre> <p>\"Root certificate authority that clients use when verifying server certificates. Used for https connection to ClickHouse\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithscheme","title":"fn spec.clickhouse.access.withScheme","text":"<pre><code>withScheme(scheme)\n</code></pre> <p>\"The scheme to user for connecting to ClickHouse. Possible values: http, https, auto\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesswithusername","title":"fn spec.clickhouse.access.withUsername","text":"<pre><code>withUsername(username)\n</code></pre> <p>\"ClickHouse username to be used by operator to connect to ClickHouse instances, deprecated, use chCredentialsSecretName\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesssecret","title":"obj spec.clickhouse.access.secret","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithname","title":"fn spec.clickhouse.access.secret.withName","text":"<pre><code>withName(name)\n</code></pre> <p>\"Name of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesssecretwithnamespace","title":"fn spec.clickhouse.access.secret.withNamespace","text":"<pre><code>withNamespace(namespace)\n</code></pre> <p>\"Location of k8s Secret with username and password to be used by operator to connect to ClickHouse instances\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseaccesstimeouts","title":"obj spec.clickhouse.access.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the operator to ClickHouse instances, In seconds\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithconnect","title":"fn spec.clickhouse.access.timeouts.withConnect","text":"<pre><code>withConnect(connect)\n</code></pre> <p>\"Timout to setup connection from the operator to ClickHouse instances. In seconds.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseaccesstimeoutswithquery","title":"fn spec.clickhouse.access.timeouts.withQuery","text":"<pre><code>withQuery(query)\n</code></pre> <p>\"Timout to perform SQL query from the operator to ClickHouse instances. In seconds.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfiguration","title":"obj spec.clickhouse.configuration","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfile","title":"obj spec.clickhouse.configuration.file","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationfilepath","title":"obj spec.clickhouse.configuration.file.path","text":"<p>\"Each 'path' can be either absolute or relative.\\nIn case path is absolute - it is used as is.\\nIn case path is relative - it is relative to the folder where configuration file you are reading right now is located.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithcommon","title":"fn spec.clickhouse.configuration.file.path.withCommon","text":"<pre><code>withCommon(common)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files common for all instances within a CHI are located.\\nDefault value - config.d\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithhost","title":"fn spec.clickhouse.configuration.file.path.withHost","text":"<pre><code>withHost(host)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files unique for each instance (host) within a CHI are located.\\nDefault value - conf.d\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationfilepathwithuser","title":"fn spec.clickhouse.configuration.file.path.withUser","text":"<pre><code>withUser(user)\n</code></pre> <p>\"Path to the folder where ClickHouse configuration files with users settings are located.\\nFiles are common for all instances within a CHI.\\nDefault value - users.d\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationnetwork","title":"obj spec.clickhouse.configuration.network","text":"<p>\"Default network parameters for any user which will create\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationnetworkwithhostregexptemplate","title":"fn spec.clickhouse.configuration.network.withHostRegexpTemplate","text":"<pre><code>withHostRegexpTemplate(hostRegexpTemplate)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;host_regexp&gt;...&lt;/host_regexp&gt;</code> for any \""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuser","title":"obj spec.clickhouse.configuration.user","text":"<p>\"Default parameters for any user which will create\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationuserdefault","title":"obj spec.clickhouse.configuration.user.default","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksip","title":"fn spec.clickhouse.configuration.user.default.withNetworksIP","text":"<pre><code>withNetworksIP(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithnetworksipmixin","title":"fn spec.clickhouse.configuration.user.default.withNetworksIPMixin","text":"<pre><code>withNetworksIPMixin(networksIP)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;networks&gt;&lt;ip&gt;...&lt;/ip&gt;&lt;/networks&gt;</code> for any \" <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithpassword","title":"fn spec.clickhouse.configuration.user.default.withPassword","text":"<pre><code>withPassword(password)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;password&gt;...&lt;/password&gt;</code> for any \""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithprofile","title":"fn spec.clickhouse.configuration.user.default.withProfile","text":"<pre><code>withProfile(profile)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;profile&gt;...&lt;/profile&gt;</code> for any \""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationuserdefaultwithquota","title":"fn spec.clickhouse.configuration.user.default.withQuota","text":"<pre><code>withQuota(quota)\n</code></pre> <p>\"ClickHouse server configuration <code>&lt;quota&gt;...&lt;/quota&gt;</code> for any \""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicy","title":"obj spec.clickhouse.configurationRestartPolicy","text":"<p>\"Configuration restart policy describes what configuration changes require ClickHouse restart\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrules","title":"fn spec.clickhouse.configurationRestartPolicy.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicywithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Array of set of rules per specified ClickHouse versions\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhouseconfigurationrestartpolicyrules","title":"obj spec.clickhouse.configurationRestartPolicy.rules","text":"<p>\"Array of set of rules per specified ClickHouse versions\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrules","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRules","text":"<pre><code>withRules(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithrulesmixin","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withRulesMixin","text":"<pre><code>withRulesMixin(rules)\n</code></pre> <p>\"Set of configuration rules for specified ClickHouse version\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhouseconfigurationrestartpolicyruleswithversion","title":"fn spec.clickhouse.configurationRestartPolicy.rules.withVersion","text":"<pre><code>withVersion(version)\n</code></pre> <p>\"ClickHouse version expression\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetrics","title":"obj spec.clickhouse.metrics","text":"<p>\"parameters which use for connect to fetch metrics from clickhouse by clickhouse-operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specclickhousemetricstimeouts","title":"obj spec.clickhouse.metrics.timeouts","text":"<p>\"Timeouts used to limit connection and queries from the metrics exporter to ClickHouse instances\\nSpecified in seconds.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specclickhousemetricstimeoutswithcollect","title":"fn spec.clickhouse.metrics.timeouts.withCollect","text":"<pre><code>withCollect(collect)\n</code></pre> <p>\"Timeout used to limit metrics collection request. In seconds.\\nUpon reaching this timeout metrics collection is aborted and no more metrics are collected in this cycle.\\nAll collected metrics are returned.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclabel","title":"obj spec.label","text":"<p>\"defines which metadata.labels will include or exclude during render StatefulSet, Pod, PVC resources\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithappendscope","title":"fn spec.label.withAppendScope","text":"<pre><code>withAppendScope(appendScope)\n</code></pre> <p>\"Whether to append Scope labels to StatefulSet and Pod\\n- \\\"LabelShardScopeIndex\\\"\\n- \\\"LabelReplicaScopeIndex\\\"\\n- \\\"LabelCHIScopeIndex\\\"\\n- \\\"LabelCHIScopeCycleSize\\\"\\n- \\\"LabelCHIScopeCycleIndex\\\"\\n- \\\"LabelCHIScopeCycleOffset\\\"\\n- \\\"LabelClusterScopeIndex\\\"\\n- \\\"LabelClusterScopeCycleSize\\\"\\n- \\\"LabelClusterScopeCycleIndex\\\"\\n- \\\"LabelClusterScopeCycleOffset\\\"\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexclude","title":"fn spec.label.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithexcludemixin","title":"fn spec.label.withExcludeMixin","text":"<pre><code>withExcludeMixin(exclude)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\nexclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithinclude","title":"fn spec.label.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-speclabelwithincludemixin","title":"fn spec.label.withIncludeMixin","text":"<pre><code>withIncludeMixin(include)\n</code></pre> <p>\"When propagating labels from the chi's <code>metadata.labels</code> section to child objects' <code>metadata.labels</code>,\\ninclude labels from the following list\\n\"</p> <p>Note: This function appends passed data to existing values</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-speclogger","title":"obj spec.logger","text":"<p>\"allow setup clickhouse-operator logger behavior\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithalsologtostderr","title":"fn spec.logger.withAlsologtostderr","text":"<pre><code>withAlsologtostderr(alsologtostderr)\n</code></pre> <p>\"boolean allows logs to stderr and files both\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlog_backtrace_at","title":"fn spec.logger.withLog_backtrace_at","text":"<pre><code>withLog_backtrace_at(log_backtrace_at)\n</code></pre> <p>\"It can be set to a file and line number with a logging line.\\nEx.: file.go:123\\nEach time when this line is being executed, a stack trace will be written to the Info log.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithlogtostderr","title":"fn spec.logger.withLogtostderr","text":"<pre><code>withLogtostderr(logtostderr)\n</code></pre> <p>\"boolean, allows logs to stderr\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithstderrthreshold","title":"fn spec.logger.withStderrthreshold","text":"<pre><code>withStderrthreshold(stderrthreshold)\n</code></pre>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithv","title":"fn spec.logger.withV","text":"<pre><code>withV(v)\n</code></pre> <p>\"verbosity level of clickhouse-operator log, default - 1 max - 9\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specloggerwithvmodule","title":"fn spec.logger.withVmodule","text":"<pre><code>withVmodule(vmodule)\n</code></pre> <p>\"Comma-separated list of filename=N, where filename (can be a pattern) must have no .go ext, and N is a V level.\\nEx.: file=2 sets the 'V' to 2 in all files with names like file.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specpod","title":"obj spec.pod","text":"<p>\"define pod specific parameters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specpodwithterminationgraceperiod","title":"fn spec.pod.withTerminationGracePeriod","text":"<pre><code>withTerminationGracePeriod(terminationGracePeriod)\n</code></pre> <p>\"Optional duration in seconds the pod needs to terminate gracefully. \\nLook details in <code>pod.spec.terminationGracePeriodSeconds</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcile","title":"obj spec.reconcile","text":"<p>\"allow tuning reconciling process\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehost","title":"obj spec.reconcile.host","text":"<p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host:\\n  - to be excluded from a ClickHouse cluster\\n  - to complete all running queries\\n  - to be included into a ClickHouse cluster\\nrespectfully before moving forward\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilehostwait","title":"obj spec.reconcile.host.wait","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithexclude","title":"fn spec.reconcile.host.wait.withExclude","text":"<pre><code>withExclude(exclude)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to be excluded from a ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithinclude","title":"fn spec.reconcile.host.wait.withInclude","text":"<pre><code>withInclude(include)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to be included into a ClickHouse cluster\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilehostwaitwithqueries","title":"fn spec.reconcile.host.wait.withQueries","text":"<pre><code>withQueries(queries)\n</code></pre> <p>\"Whether the operator during reconcile procedure should wait for a ClickHouse host to complete all running queries\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcileruntime","title":"obj spec.reconcile.runtime","text":"<p>\"runtime parameters for clickhouse-operator process which are used during reconcile cycle\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcilechisthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileCHIsThreadsNumber","text":"<pre><code>withReconcileCHIsThreadsNumber(reconcileCHIsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile CHIs in parallel, 10 by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsmaxconcurrencypercent","title":"fn spec.reconcile.runtime.withReconcileShardsMaxConcurrencyPercent","text":"<pre><code>withReconcileShardsMaxConcurrencyPercent(reconcileShardsMaxConcurrencyPercent)\n</code></pre> <p>\"The maximum percentage of cluster shards that may be reconciled in parallel, 50 percent by default.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcileruntimewithreconcileshardsthreadsnumber","title":"fn spec.reconcile.runtime.withReconcileShardsThreadsNumber","text":"<pre><code>withReconcileShardsThreadsNumber(reconcileShardsThreadsNumber)\n</code></pre> <p>\"How many goroutines will be used to reconcile shards of a cluster in parallel, 1 by default\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulset","title":"obj spec.reconcile.statefulSet","text":"<p>\"Allow change default behavior for reconciling StatefulSet which generated by clickhouse-operator\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetcreate","title":"obj spec.reconcile.statefulSet.create","text":"<p>\"Behavior during create StatefulSet\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetcreatewithonfailure","title":"fn spec.reconcile.statefulSet.create.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case created StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. delete - delete newly created problematic StatefulSet.\\n3. ignore (default) - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specreconcilestatefulsetupdate","title":"obj spec.reconcile.statefulSet.update","text":"<p>\"Behavior during update StatefulSet\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithonfailure","title":"fn spec.reconcile.statefulSet.update.withOnFailure","text":"<pre><code>withOnFailure(onFailure)\n</code></pre> <p>\"What to do in case updated StatefulSet is not in Ready after <code>statefulSetUpdateTimeout</code> seconds\\nPossible options:\\n1. abort - do nothing, just break the process and wait for admin.\\n2. rollback (default) - delete Pod and rollback StatefulSet to previous Generation. Pod would be recreated by StatefulSet based on rollback-ed configuration.\\n3. ignore - ignore error, pretend nothing happened and move on to the next StatefulSet.\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithpollinterval","title":"fn spec.reconcile.statefulSet.update.withPollInterval","text":"<pre><code>withPollInterval(pollInterval)\n</code></pre> <p>\"How many seconds to wait between checks for created/updated StatefulSet status\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specreconcilestatefulsetupdatewithtimeout","title":"fn spec.reconcile.statefulSet.update.withTimeout","text":"<pre><code>withTimeout(timeout)\n</code></pre> <p>\"How many seconds to wait for created/updated StatefulSet to be Ready\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specstatefulset","title":"obj spec.statefulSet","text":"<p>\"define StatefulSet-specific parameters\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specstatefulsetwithrevisionhistorylimit","title":"fn spec.statefulSet.withRevisionHistoryLimit","text":"<pre><code>withRevisionHistoryLimit(revisionHistoryLimit)\n</code></pre> <p>\"revisionHistoryLimit is the maximum number of revisions that will be\\nmaintained in the StatefulSet's revision history.                         \\nLook details in <code>statefulset.spec.revisionHistoryLimit</code>\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplate","title":"obj spec.template","text":"<p>\"Parameters which are used if you want to generate ClickHouseInstallationTemplate custom resources from files which are stored inside clickhouse-operator deployment\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-spectemplatechi","title":"obj spec.template.chi","text":""},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpath","title":"fn spec.template.chi.withPath","text":"<pre><code>withPath(path)\n</code></pre> <p>\"Path to folder where ClickHouseInstallationTemplate .yaml manifests are located.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-spectemplatechiwithpolicy","title":"fn spec.template.chi.withPolicy","text":"<pre><code>withPolicy(policy)\n</code></pre> <p>\"CHI template updates handling policy\\nPossible policy values:\\n  - ReadOnStart. Accept CHIT updates on the operators start only.\\n  - ApplyOnNextReconcile. Accept CHIT updates at all time. Apply news CHITs on next regular reconcile of the CHI\\n\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#obj-specwatch","title":"obj spec.watch","text":"<p>\"Parameters for watch kubernetes resources which used by clickhouse-operator deployment\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespaces","title":"fn spec.watch.withNamespaces","text":"<pre><code>withNamespaces(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p>"},{"location":"0.23/clickhouse/v1/clickHouseOperatorConfiguration/#fn-specwatchwithnamespacesmixin","title":"fn spec.watch.withNamespacesMixin","text":"<pre><code>withNamespacesMixin(namespaces)\n</code></pre> <p>\"List of namespaces where clickhouse-operator watches for events.\"</p> <p>Note: This function appends passed data to existing values</p>"}]}